<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä» 0 æ­å»ºä¸€å¥—è§„èŒƒçš„ Vue3.x é¡¹ç›®å·¥ç¨‹ç¯å¢ƒ | ä¸€åªChang</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/my-blog/favicon.ico">
    <meta name="description" content="Do not go gentle into that good night">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/my-blog/assets/css/0.styles.157b7c22.css" as="style"><link rel="preload" href="/my-blog/assets/js/app.835ec0b2.js" as="script"><link rel="preload" href="/my-blog/assets/js/3.a3dfb6d1.js" as="script"><link rel="preload" href="/my-blog/assets/js/1.bd88c7fd.js" as="script"><link rel="preload" href="/my-blog/assets/js/35.c0ff8c00.js" as="script"><link rel="prefetch" href="/my-blog/assets/js/10.a6cb310e.js"><link rel="prefetch" href="/my-blog/assets/js/11.15cbdce5.js"><link rel="prefetch" href="/my-blog/assets/js/12.fde9a3e5.js"><link rel="prefetch" href="/my-blog/assets/js/13.4156d5ca.js"><link rel="prefetch" href="/my-blog/assets/js/14.74d59886.js"><link rel="prefetch" href="/my-blog/assets/js/15.c3557164.js"><link rel="prefetch" href="/my-blog/assets/js/16.a29fc453.js"><link rel="prefetch" href="/my-blog/assets/js/17.4c0bff20.js"><link rel="prefetch" href="/my-blog/assets/js/18.e4d08395.js"><link rel="prefetch" href="/my-blog/assets/js/19.7dcb1080.js"><link rel="prefetch" href="/my-blog/assets/js/20.05f15efb.js"><link rel="prefetch" href="/my-blog/assets/js/21.8e607ccc.js"><link rel="prefetch" href="/my-blog/assets/js/22.e0423825.js"><link rel="prefetch" href="/my-blog/assets/js/23.764eedeb.js"><link rel="prefetch" href="/my-blog/assets/js/24.c141ab74.js"><link rel="prefetch" href="/my-blog/assets/js/25.5a28d671.js"><link rel="prefetch" href="/my-blog/assets/js/26.23ed4ac0.js"><link rel="prefetch" href="/my-blog/assets/js/27.e4e260c4.js"><link rel="prefetch" href="/my-blog/assets/js/28.c70c78ed.js"><link rel="prefetch" href="/my-blog/assets/js/29.02fa36c9.js"><link rel="prefetch" href="/my-blog/assets/js/30.e8bd4d7b.js"><link rel="prefetch" href="/my-blog/assets/js/31.1901f9de.js"><link rel="prefetch" href="/my-blog/assets/js/32.b3d349ff.js"><link rel="prefetch" href="/my-blog/assets/js/33.c01e57e7.js"><link rel="prefetch" href="/my-blog/assets/js/34.880bafdd.js"><link rel="prefetch" href="/my-blog/assets/js/36.d61fea93.js"><link rel="prefetch" href="/my-blog/assets/js/37.d90d5819.js"><link rel="prefetch" href="/my-blog/assets/js/38.406179d5.js"><link rel="prefetch" href="/my-blog/assets/js/39.83c6d115.js"><link rel="prefetch" href="/my-blog/assets/js/4.1cd0d515.js"><link rel="prefetch" href="/my-blog/assets/js/40.5507824e.js"><link rel="prefetch" href="/my-blog/assets/js/41.f506efaf.js"><link rel="prefetch" href="/my-blog/assets/js/42.9d0a2fc8.js"><link rel="prefetch" href="/my-blog/assets/js/43.c1a9be14.js"><link rel="prefetch" href="/my-blog/assets/js/44.08fa353d.js"><link rel="prefetch" href="/my-blog/assets/js/5.a3a85aa4.js"><link rel="prefetch" href="/my-blog/assets/js/6.6839a5a0.js"><link rel="prefetch" href="/my-blog/assets/js/7.5d85a00b.js"><link rel="prefetch" href="/my-blog/assets/js/8.9cf8a355.js"><link rel="prefetch" href="/my-blog/assets/js/9.6148638a.js">
    <link rel="stylesheet" href="/my-blog/assets/css/0.styles.157b7c22.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-c00e2ab0><div data-v-c00e2ab0><div id="loader-wrapper" class="loading-wrapper" data-v-2c578df8 data-v-c00e2ab0 data-v-c00e2ab0><div class="loader-main" data-v-2c578df8><div data-v-2c578df8></div><div data-v-2c578df8></div><div data-v-2c578df8></div><div data-v-2c578df8></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4a776749 data-v-c00e2ab0 data-v-c00e2ab0><h3 class="title" style="display:none;" data-v-4a776749 data-v-4a776749>ä¸€åªChang</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-4a776749 data-v-4a776749><input type="password" value="" data-v-4a776749> <span data-v-4a776749>Konck! Knock!</span> <button data-v-4a776749>OK</button></label> <div class="footer" style="display:none;" data-v-4a776749 data-v-4a776749><span data-v-4a776749><i class="iconfont reco-theme" data-v-4a776749></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4a776749>vuePress-theme-reco</a></span> <span data-v-4a776749><i class="iconfont reco-copyright" data-v-4a776749></i> <a data-v-4a776749><span data-v-4a776749>ä¸€åªChang</span>
          Â Â 
          <span data-v-4a776749>2019 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-c00e2ab0><header class="navbar" data-v-c00e2ab0><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-blog/" class="home-link router-link-active"><img src="/my-blog/logo.png" alt="ä¸€åªChang" class="logo"> <span class="site-name">ä¸€åªChang</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/categories/é¢è¯•/" class="nav-link"><i class="iconfont undefined"></i>
  é¢è¯•
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/js/" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/å‰ç«¯/" class="nav-link"><i class="iconfont undefined"></i>
  å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/å¼€å‘/" class="nav-link"><i class="iconfont undefined"></i>
  å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/åŸºç¡€/" class="nav-link"><i class="iconfont undefined"></i>
  åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/TypeScript/" class="nav-link"><i class="iconfont undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/å­¦ä¹ ç¬”è®°/" class="nav-link"><i class="iconfont undefined"></i>
  å­¦ä¹ ç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/æ€»ç»“/" class="nav-link"><i class="iconfont undefined"></i>
  æ€»ç»“
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/React/" class="nav-link"><i class="iconfont undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/git/" class="nav-link"><i class="iconfont undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/vue/" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/å¼€å‘ç¬”è®°/" class="nav-link"><i class="iconfont undefined"></i>
  å¼€å‘ç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/uniapp/" class="nav-link"><i class="iconfont undefined"></i>
  uniapp
</a></li></ul></div></div><div class="nav-item"><a href="/my-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/my-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/cj620" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-c00e2ab0></div> <aside class="sidebar" data-v-c00e2ab0><div class="personal-info-wrapper" data-v-1285c3cd><img src="/my-blog/avatar.png" alt="author-avatar" class="personal-img" data-v-1285c3cd> <h3 class="name" data-v-1285c3cd>
    ä¸€åªChang
  </h3> <div class="num" data-v-1285c3cd><div data-v-1285c3cd><h3 data-v-1285c3cd>32</h3> <h6 data-v-1285c3cd>Article</h6></div> <div data-v-1285c3cd><h3 data-v-1285c3cd>21</h3> <h6 data-v-1285c3cd>Tag</h6></div></div> <hr data-v-1285c3cd></div> <nav class="nav-links"><div class="nav-item"><a href="/my-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/categories/é¢è¯•/" class="nav-link"><i class="iconfont undefined"></i>
  é¢è¯•
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/js/" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/å‰ç«¯/" class="nav-link"><i class="iconfont undefined"></i>
  å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/å¼€å‘/" class="nav-link"><i class="iconfont undefined"></i>
  å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/åŸºç¡€/" class="nav-link"><i class="iconfont undefined"></i>
  åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/TypeScript/" class="nav-link"><i class="iconfont undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/å­¦ä¹ ç¬”è®°/" class="nav-link"><i class="iconfont undefined"></i>
  å­¦ä¹ ç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/æ€»ç»“/" class="nav-link"><i class="iconfont undefined"></i>
  æ€»ç»“
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/React/" class="nav-link"><i class="iconfont undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/git/" class="nav-link"><i class="iconfont undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/vue/" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/å¼€å‘ç¬”è®°/" class="nav-link"><i class="iconfont undefined"></i>
  å¼€å‘ç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/categories/uniapp/" class="nav-link"><i class="iconfont undefined"></i>
  uniapp
</a></li></ul></div></div><div class="nav-item"><a href="/my-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/my-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/cj620" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ä» 0 æ­å»ºä¸€å¥—è§„èŒƒçš„ Vue3.x é¡¹ç›®å·¥ç¨‹ç¯å¢ƒ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/views/category1/2021/buildVue3Project.html#æŠ€æœ¯æ ˆ" class="sidebar-link">æŠ€æœ¯æ ˆ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/my-blog/views/category1/2021/buildVue3Project.html#æ¶æ„æ­å»º" class="sidebar-link">æ¶æ„æ­å»º</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#ä½¿ç”¨-vite-å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢" class="sidebar-link">ä½¿ç”¨ Vite å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#ä¿®æ”¹-vite-é…ç½®æ–‡ä»¶" class="sidebar-link">ä¿®æ”¹ Vite é…ç½®æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#è§„èŒƒç›®å½•ç»“æ„" class="sidebar-link">è§„èŒƒç›®å½•ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆè·¯ç”±å·¥å…·-vue-router" class="sidebar-link">é›†æˆè·¯ç”±å·¥å…· Vue Router</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆçŠ¶æ€ç®¡ç†å·¥å…·-vuex" class="sidebar-link">é›†æˆçŠ¶æ€ç®¡ç†å·¥å…· Vuex</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-ui-æ¡†æ¶-element-plus" class="sidebar-link">é›†æˆ UI æ¡†æ¶ Element Plus</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-http-å·¥å…·-axios" class="sidebar-link">é›†æˆ HTTP å·¥å…· Axios</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-css-é¢„ç¼–è¯‘å™¨-stylus-sass-less" class="sidebar-link">é›†æˆ CSS é¢„ç¼–è¯‘å™¨ Stylus/Sass/Less</a></li></ul></li><li><a href="/my-blog/views/category1/2021/buildVue3Project.html#ä»£ç è§„èŒƒ" class="sidebar-link">ä»£ç è§„èŒƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-editorconfig-é…ç½®" class="sidebar-link">é›†æˆ EditorConfig é…ç½®</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-prettier-é…ç½®" class="sidebar-link">é›†æˆ Prettier é…ç½®</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-eslint-é…ç½®" class="sidebar-link">é›†æˆ ESLint é…ç½®</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#è§£å†³-prettier-å’Œ-eslint-çš„å†²çª" class="sidebar-link">è§£å†³ Prettier å’Œ ESLint çš„å†²çª</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-husky-å’Œ-lint-staged" class="sidebar-link">é›†æˆ husky å’Œ lint-staged</a></li></ul></li><li><a href="/my-blog/views/category1/2021/buildVue3Project.html#æäº¤è§„èŒƒ" class="sidebar-link">æäº¤è§„èŒƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#commit-message-æ ¼å¼è§„èŒƒ" class="sidebar-link">commit message æ ¼å¼è§„èŒƒ</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-commitizen-å®ç°è§„èŒƒæäº¤" class="sidebar-link">é›†æˆ Commitizen å®ç°è§„èŒƒæäº¤</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ" class="sidebar-link">é›†æˆ commitlint éªŒè¯æäº¤è§„èŒƒ</a></li></ul></li><li><a href="/my-blog/views/category1/2021/buildVue3Project.html#å•å…ƒæµ‹è¯•" class="sidebar-link">å•å…ƒæµ‹è¯•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#å®‰è£…æ ¸å¿ƒä¾èµ–" class="sidebar-link">å®‰è£…æ ¸å¿ƒä¾èµ–</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#åˆ›å»º-jest-é…ç½®æ–‡ä»¶" class="sidebar-link">åˆ›å»º jest é…ç½®æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶" class="sidebar-link">åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é›†æˆ-types-jest" class="sidebar-link">é›†æˆ @types/jest</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#æ·»åŠ -eslint-plugin-jest" class="sidebar-link">æ·»åŠ  eslint-plugin-jest</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#æ‰§è¡Œå•å…ƒæµ‹è¯•" class="sidebar-link">æ‰§è¡Œå•å…ƒæµ‹è¯•</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#å•å…ƒæµ‹è¯•çº¦æŸ" class="sidebar-link">å•å…ƒæµ‹è¯•çº¦æŸ</a></li></ul></li><li><a href="/my-blog/views/category1/2021/buildVue3Project.html#è‡ªåŠ¨éƒ¨ç½²" class="sidebar-link">è‡ªåŠ¨éƒ¨ç½²</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#ä»€ä¹ˆæ˜¯-github-actions" class="sidebar-link">ä»€ä¹ˆæ˜¯ GitHub Actions</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#é…ç½®-github-actions" class="sidebar-link">é…ç½® GitHub Actions</a></li><li class="sidebar-sub-header"><a href="/my-blog/views/category1/2021/buildVue3Project.html#è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†" class="sidebar-link">è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†</a></li></ul></li><li><a href="/my-blog/views/category1/2021/buildVue3Project.html#æœ€å" class="sidebar-link">æœ€å</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4a776749 data-v-c00e2ab0><h3 class="title" style="display:none;" data-v-4a776749 data-v-4a776749>ä» 0 æ­å»ºä¸€å¥—è§„èŒƒçš„ Vue3.x é¡¹ç›®å·¥ç¨‹ç¯å¢ƒ</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-4a776749 data-v-4a776749><input type="password" value="" data-v-4a776749> <span data-v-4a776749>Konck! Knock!</span> <button data-v-4a776749>OK</button></label> <div class="footer" style="display:none;" data-v-4a776749 data-v-4a776749><span data-v-4a776749><i class="iconfont reco-theme" data-v-4a776749></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4a776749>vuePress-theme-reco</a></span> <span data-v-4a776749><i class="iconfont reco-copyright" data-v-4a776749></i> <a data-v-4a776749><span data-v-4a776749>ä¸€åªChang</span>
          Â Â 
          <span data-v-4a776749>2019 - </span>
          2022
        </a></span></div></div> <div data-v-c00e2ab0><main class="page"><div class="page-title" style="display:none;"><h1>ä» 0 æ­å»ºä¸€å¥—è§„èŒƒçš„ Vue3.x é¡¹ç›®å·¥ç¨‹ç¯å¢ƒ</h1> <hr> <div data-v-ba876724><i class="iconfont reco-account" data-v-ba876724><span data-v-ba876724>ä¸€åªChang</span></i> <i class="iconfont reco-date" data-v-ba876724><span data-v-ba876724>2021-01-19</span></i> <i class="iconfont reco-eye" data-v-ba876724><span id="/my-blog/views/category1/2021/buildVue3Project.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-ba876724><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-ba876724><span class="tag-item" data-v-ba876724>
      vue3.0
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="ä»-0-æ­å»ºä¸€å¥—è§„èŒƒçš„-vue3-x-é¡¹ç›®å·¥ç¨‹ç¯å¢ƒ"><a href="#ä»-0-æ­å»ºä¸€å¥—è§„èŒƒçš„-vue3-x-é¡¹ç›®å·¥ç¨‹ç¯å¢ƒ" class="header-anchor">#</a> ä» 0 æ­å»ºä¸€å¥—è§„èŒƒçš„ Vue3.x é¡¹ç›®å·¥ç¨‹ç¯å¢ƒ</h1> <p><a href="https://juejin.cn/post/6951649464637636622#heading-54" target="_blank" rel="noopener noreferrer">è½¬è½½åœ°å€<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Vue3 è·Ÿ Vite æ­£å¼ç‰ˆå‘å¸ƒæœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œç”Ÿæ€åœˆä¹Ÿæ¸æ¸ä¸°å¯Œèµ·æ¥ï¼Œä½œè€…å·²åœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œæ€»ç»“ä¸€ä¸‹ï¼šå°±æ˜¯å¿«ï¼ä¹Ÿä¸ç”¨æ‹…å¿ƒç¨³å®šæ€§é—®é¢˜ï¼Œå¼€å‘ä½“éªŒçœŸä¸æ˜¯ä¸€èˆ¬å¥½ï¼è¿˜æ²¡å°è¯•çš„åŒå­¦å¯ä»¥ä»æœ¬æ–‡å¼€å§‹å­¦ä¹ ï¼Œä» 0 å¼€å§‹æ‰‹æŠŠæ‰‹å¸¦ä½ æ­å»ºä¸€å¥—è§„èŒƒçš„ Vite + Vue3 + TypeScript å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®ç¯å¢ƒã€‚</p> <p>æœ¬æ–‡ç¯‡å¹…è¾ƒé•¿ï¼Œä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å±•å¼€ï¼š</p> <ul><li>æ¶æ„æ­å»º</li> <li>ä»£ç è§„èŒƒ</li> <li>æäº¤è§„èŒƒ</li> <li>å•å…ƒæµ‹è¯•</li> <li>è‡ªåŠ¨éƒ¨ç½²</li></ul> <blockquote><p>æœ¬é¡¹ç›®å®Œæ•´çš„ä»£ç æ‰˜ç®¡åœ¨ <a href="https://github.com/XPoet/vite-vue3-starter" target="_blank" rel="noopener noreferrer">GitHub ä»“åº“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œæ¬¢è¿ç‚¹äº®å°æ˜Ÿæ˜Ÿ ğŸŒŸğŸŒŸ</p></blockquote> <h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="header-anchor">#</a> æŠ€æœ¯æ ˆ</h2> <ul><li>ç¼–ç¨‹è¯­è¨€ï¼š<a href="https://www.typescriptlang.org/zh/" target="_blank" rel="noopener noreferrer">TypeScript 4.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://www.javascript.com/" target="_blank" rel="noopener noreferrer">JavaScript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>æ„å»ºå·¥å…·ï¼š<a href="https://cn.vitejs.dev/" target="_blank" rel="noopener noreferrer">Vite 2.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>å‰ç«¯æ¡†æ¶ï¼š<a href="https://v3.cn.vuejs.org/" target="_blank" rel="noopener noreferrer">Vue 3.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>è·¯ç”±å·¥å…·ï¼š<a href="https://next.router.vuejs.org/zh/index.html" target="_blank" rel="noopener noreferrer">Vue Router 4.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>çŠ¶æ€ç®¡ç†ï¼š<a href="https://next.vuex.vuejs.org/" target="_blank" rel="noopener noreferrer">Vuex 4.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>UI æ¡†æ¶ï¼š<a href="https://element-plus.org/#/zh-CN" target="_blank" rel="noopener noreferrer">Element Plus<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>CSS é¢„ç¼–è¯‘ï¼š<a href="https://stylus-lang.com/" target="_blank" rel="noopener noreferrer">Stylus<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> / <a href="https://sass.bootcss.com/documentation" target="_blank" rel="noopener noreferrer">Sass<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> / <a href="http://lesscss.cn/" target="_blank" rel="noopener noreferrer">Less<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>HTTP å·¥å…·ï¼š<a href="https://axios-http.com/" target="_blank" rel="noopener noreferrer">Axios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Git Hook å·¥å…·ï¼š<a href="https://typicode.github.io/husky/#/" target="_blank" rel="noopener noreferrer">husky<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>ä»£ç è§„èŒƒï¼š<a href="http://editorconfig.org/" target="_blank" rel="noopener noreferrer">EditorConfig<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">Prettier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://eslint.org/" target="_blank" rel="noopener noreferrer">ESLint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://github.com/airbnb/javascript#translation" target="_blank" rel="noopener noreferrer">Airbnb JavaScript Style Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>æäº¤è§„èŒƒï¼š<a href="http://commitizen.github.io/cz-cli/" target="_blank" rel="noopener noreferrer">Commitizen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://commitlint.js.org/#/" target="_blank" rel="noopener noreferrer">Commitlint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>å•å…ƒæµ‹è¯•ï¼š<a href="https://next.vue-test-utils.vuejs.org/" target="_blank" rel="noopener noreferrer">vue-test-utils<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://jestjs.io/" target="_blank" rel="noopener noreferrer">jest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://github.com/vuejs/vue-jest" target="_blank" rel="noopener noreferrer">vue-jest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://kulshekhar.github.io/ts-jest/" target="_blank" rel="noopener noreferrer">ts-jest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>è‡ªåŠ¨éƒ¨ç½²ï¼š<a href="https://docs.github.com/cn/actions/learn-github-actions" target="_blank" rel="noopener noreferrer">GitHub Actions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="æ¶æ„æ­å»º"><a href="#æ¶æ„æ­å»º" class="header-anchor">#</a> æ¶æ„æ­å»º</h2> <p>è¯·ç¡®ä¿ä½ çš„ç”µè„‘ä¸ŠæˆåŠŸå®‰è£… Node.jsï¼Œæœ¬é¡¹ç›®ä½¿ç”¨ Vite æ„å»ºå·¥å…·ï¼Œ<strong>éœ€è¦ Node.js ç‰ˆæœ¬ &gt;= 12.0.0</strong>ã€‚</p> <p>æŸ¥çœ‹ Node.js ç‰ˆæœ¬ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">node</span> -v
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å»ºè®®å°† Node.js å‡çº§åˆ°æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># ä½¿ç”¨ nvm å®‰è£…æœ€æ–°ç¨³å®šç‰ˆ Node.js</span>
nvm <span class="token function">install</span> stable
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ä½¿ç”¨-vite-å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢"><a href="#ä½¿ç”¨-vite-å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢" class="header-anchor">#</a> ä½¿ç”¨ Vite å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®é›å½¢</h3> <ul><li><p>ä½¿ç”¨ NPMï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> init @vitejs/app
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>ä½¿ç”¨ Yarnï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> create @vitejs/app
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <p>ç„¶åæŒ‰ç…§ç»ˆç«¯æç¤ºå®Œæˆä»¥ä¸‹æ“ä½œï¼š</p> <ol><li><p>è¾“å…¥é¡¹ç›®åç§°</p> <p>ä¾‹å¦‚ï¼šæœ¬é¡¹ç›®åç§° <strong>vite-vue3-starter</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/959dc45b86ca4066a1bcece8de88dc8d~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p></li> <li><p>é€‰æ‹©æ¨¡æ¿</p> <p>æœ¬é¡¹ç›®éœ€è¦ä½¿ç”¨ Vue3 + TypeScriptï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹© <code>vue-ts</code>ï¼Œä¼šè‡ªåŠ¨å®‰è£… Vue3 å’Œ TypeScriptã€‚</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/176e9cfb0f4545fc8d6ff8b5eb9422a2~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7126a1dc802d411ab375289ac827b71e~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>ä½ è¿˜å¯ä»¥é€šè¿‡é™„åŠ çš„å‘½ä»¤è¡Œé€‰é¡¹ç›´æ¥æŒ‡å®šé¡¹ç›®åå’Œæ¨¡æ¿ï¼Œæœ¬é¡¹ç›®è¦æ„å»º Vite + Vue3 + TypeScript é¡¹ç›®ï¼Œåˆ™è¿è¡Œï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># npm 6.x</span>
<span class="token function">npm</span> init @vitejs/app vite-vue3-starter --template vue-ts

<span class="token comment"># npm 7+ï¼ˆéœ€è¦é¢å¤–çš„åŒæ¨ªçº¿ï¼‰</span>
<span class="token function">npm</span> init @vitejs/app vite-vue3-starter -- --template vue-ts

<span class="token comment"># yarn</span>
<span class="token function">yarn</span> create @vitejs/app vite-vue3-starter --template vue-ts
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>å®‰è£…ä¾èµ–</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>å¯åŠ¨é¡¹ç›®</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run dev
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3afd23c1469a45e895bb488eac45adfe~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>å¦‚ä¸Šå›¾ï¼Œè¡¨ç¤º Vite + Vue3 + TypeScript ç®€å•çš„é¡¹ç›®éª¨æ¶æ­å»ºå®Œæ¯•ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä¸ºè¿™ä¸ªé¡¹ç›®é›†æˆ Vue Routerã€Vuexã€Element Plusã€Axiosã€Stylus/Sass/Lessã€‚</p></li></ol> <h3 id="ä¿®æ”¹-vite-é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹-vite-é…ç½®æ–‡ä»¶" class="header-anchor">#</a> ä¿®æ”¹ Vite é…ç½®æ–‡ä»¶</h3> <p>Vite é…ç½®æ–‡ä»¶ <code>vite.config.ts</code> ä½äºæ ¹ç›®å½•ä¸‹ï¼Œé¡¹ç›®å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨è¯»å–ã€‚</p> <p>æœ¬é¡¹ç›®å…ˆåšä¸€äº›ç®€å•é…ç½®ï¼Œä¾‹å¦‚ï¼šè®¾ç½® <code>@</code> æŒ‡å‘ <code>src</code> ç›®å½•ã€ æœåŠ¡å¯åŠ¨ç«¯å£ã€æ‰“åŒ…è·¯å¾„ã€ä»£ç†ç­‰ã€‚</p> <p>å…³äº Vite æ›´å¤šé…ç½®é¡¹åŠç”¨æ³•ï¼Œè¯·æŸ¥çœ‹ Vite å®˜ç½‘ <a href="https://vitejs.dev/config/" target="_blank" rel="noopener noreferrer">vitejs.dev/config/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ã€‚</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&quot;@vitejs/plugin-vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// å¦‚æœç¼–è¾‘å™¨æç¤º path æ¨¡å—æ‰¾ä¸åˆ°ï¼Œåˆ™å¯ä»¥å®‰è£…ä¸€ä¸‹ @types/node -&gt; npm i @types/node -D</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;path&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½® `@` æŒ‡å‘ `src` ç›®å½•</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  base<span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½®æ‰“åŒ…è·¯å¾„</span>
  server<span class="token operator">:</span> <span class="token punctuation">{</span>
    port<span class="token operator">:</span> <span class="token number">4000</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½®æœåŠ¡å¯åŠ¨ç«¯å£å·</span>
    open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½®æœåŠ¡å¯åŠ¨æ—¶æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    cors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å…è®¸è·¨åŸŸ</span>

    <span class="token comment">// è®¾ç½®ä»£ç†ï¼Œæ ¹æ®æˆ‘ä»¬é¡¹ç›®å®é™…æƒ…å†µé…ç½®</span>
    <span class="token comment">// proxy: {</span>
    <span class="token comment">//   '/api': {</span>
    <span class="token comment">//     target: 'http://xxx.xxx.xxx.xxx:8000',</span>
    <span class="token comment">//     changeOrigin: true,</span>
    <span class="token comment">//     secure: false,</span>
    <span class="token comment">//     rewrite: (path) =&gt; path.replace('/api/', '/')</span>
    <span class="token comment">//   }</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="è§„èŒƒç›®å½•ç»“æ„"><a href="#è§„èŒƒç›®å½•ç»“æ„" class="header-anchor">#</a> è§„èŒƒç›®å½•ç»“æ„</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>â”œâ”€â”€ publish/
â””â”€â”€ src/
    â”œâ”€â”€ assets/                    // é™æ€èµ„æºç›®å½•
    â”œâ”€â”€ common/                    // é€šç”¨ç±»åº“ç›®å½•
    â”œâ”€â”€ components/                // å…¬å…±ç»„ä»¶ç›®å½•
    â”œâ”€â”€ router/                    // è·¯ç”±é…ç½®ç›®å½•
    â”œâ”€â”€ store/                     // çŠ¶æ€ç®¡ç†ç›®å½•
    â”œâ”€â”€ style/                     // é€šç”¨ CSS ç›®å½•
    â”œâ”€â”€ utils/                     // å·¥å…·å‡½æ•°ç›®å½•
    â”œâ”€â”€ views/                     // é¡µé¢ç»„ä»¶ç›®å½•
    â”œâ”€â”€ App.vue
    â”œâ”€â”€ main.ts
    â”œâ”€â”€ shims-vue.d.ts
â”œâ”€â”€ tests/                         // å•å…ƒæµ‹è¯•ç›®å½•
â”œâ”€â”€ index.html
â”œâ”€â”€ tsconfig.json                  // TypeScript é…ç½®æ–‡ä»¶
â”œâ”€â”€ vite.config.ts                 // Vite é…ç½®æ–‡ä»¶
â””â”€â”€ package.json
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="é›†æˆè·¯ç”±å·¥å…·-vue-router"><a href="#é›†æˆè·¯ç”±å·¥å…·-vue-router" class="header-anchor">#</a> é›†æˆè·¯ç”±å·¥å…· Vue Router</h3> <ol><li><p>å®‰è£…æ”¯æŒ Vue3 çš„è·¯ç”±å·¥å…· vue-router@4</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i vue-router@4
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>åˆ›å»º <code>src/router/index.ts</code> æ–‡ä»¶</p> <p>åœ¨ <code>src</code> ä¸‹åˆ›å»º <code>router</code> ç›®å½•ï¼Œç„¶ååœ¨ <code>router</code> ç›®å½•é‡Œæ–°å»º <code>index.ts</code> æ–‡ä»¶ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> â””â”€â”€ src/
     â”œâ”€â”€ router/
         â”œâ”€â”€ index.ts  // è·¯ç”±é…ç½®æ–‡ä»¶
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  createRouter<span class="token punctuation">,</span>
  createWebHashHistory<span class="token punctuation">,</span>
  RouteRecordRaw<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">&quot;@/views/home.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">&quot;@/views/vuex.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> routes<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>RouteRecordRaw<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Home&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/vuex&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Vuex&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Vuex<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/axios&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Axios&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@/views/axios.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æ‡’åŠ è½½ç»„ä»¶</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>æ ¹æ®æœ¬é¡¹ç›®è·¯ç”±é…ç½®çš„å®é™…æƒ…å†µï¼Œä½ éœ€è¦åœ¨ <code>src</code> ä¸‹åˆ›å»º <code>views</code> ç›®å½•ï¼Œç”¨æ¥å­˜å‚¨é¡µé¢ç»„ä»¶ã€‚</p> <p>æˆ‘ä»¬åœ¨ <code>views</code> ç›®å½•ä¸‹åˆ›å»º <code>home.vue</code> ã€<code>vuex.vue</code> ã€<code>axios.vue</code>ã€‚</p></li> <li><p>åœ¨ <code>main.ts</code> æ–‡ä»¶ä¸­æŒ‚è½½è·¯ç”±é…ç½®</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;./router/index&quot;</span><span class="token punctuation">;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ol> <h3 id="é›†æˆçŠ¶æ€ç®¡ç†å·¥å…·-vuex"><a href="#é›†æˆçŠ¶æ€ç®¡ç†å·¥å…·-vuex" class="header-anchor">#</a> é›†æˆçŠ¶æ€ç®¡ç†å·¥å…· Vuex</h3> <ol><li><p>å®‰è£…æ”¯æŒ Vue3 çš„çŠ¶æ€ç®¡ç†å·¥å…· vuex@next</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i vuex@next
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>åˆ›å»º <code>src/store/index.ts</code> æ–‡ä»¶</p> <p>åœ¨ <code>src</code> ä¸‹åˆ›å»º <code>store</code> ç›®å½•ï¼Œç„¶ååœ¨ <code>store</code> ç›®å½•é‡Œæ–°å»º <code>index.ts</code> æ–‡ä»¶ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>â””â”€â”€ src/
    â”œâ”€â”€ store/
        â”œâ”€â”€ index.ts  // store é…ç½®æ–‡ä»¶
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> defaultState <span class="token operator">=</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Create a new store instance.</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> defaultState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span>state<span class="token operator">:</span> <span class="token keyword">typeof</span> defaultState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;increment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">double</span><span class="token punctuation">(</span>state<span class="token operator">:</span> <span class="token keyword">typeof</span> defaultState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">*</span> state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li> <li><p>åœ¨ <code>main.ts</code> æ–‡ä»¶ä¸­æŒ‚è½½ Vuex é…ç½®</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;./store/index&quot;</span><span class="token punctuation">;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ol> <h3 id="é›†æˆ-ui-æ¡†æ¶-element-plus"><a href="#é›†æˆ-ui-æ¡†æ¶-element-plus" class="header-anchor">#</a> é›†æˆ UI æ¡†æ¶ Element Plus</h3> <ol><li><p>å®‰è£…æ”¯æŒ Vue3 çš„ UI æ¡†æ¶ Element Plus</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i element-plus
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>åœ¨ <code>main.ts</code> æ–‡ä»¶ä¸­æŒ‚è½½ Element Plus</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;element-plus/lib/theme-chalk/index.css&quot;</span><span class="token punctuation">;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol> <h3 id="é›†æˆ-http-å·¥å…·-axios"><a href="#é›†æˆ-http-å·¥å…·-axios" class="header-anchor">#</a> é›†æˆ HTTP å·¥å…· Axios</h3> <ol><li><p>å®‰è£… Axiosï¼ˆAxios è·Ÿ Vue ç‰ˆæœ¬æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œå®‰è£…æœ€æ–°å³å¯ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i axios
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>é…ç½® Axios</p> <blockquote><p>ä¸ºäº†ä½¿é¡¹ç›®çš„ç›®å½•ç»“æ„åˆç†ä¸”è§„èŒƒï¼Œæˆ‘ä»¬åœ¨ <code>src</code> ä¸‹åˆ›å»º <code>utils</code> ç›®å½•æ¥å­˜å‚¨æˆ‘ä»¬å¸¸ç”¨çš„å·¥å…·å‡½æ•°ã€‚</p></blockquote> <p>Axios ä½œä¸º HTTP å·¥å…·ï¼Œæˆ‘ä»¬åœ¨ <code>utils</code> ç›®å½•ä¸‹åˆ›å»º <code>axios.ts</code> ä½œä¸º Axios é…ç½®æ–‡ä»¶ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>â””â”€â”€ src/
    â”œâ”€â”€ utils/
        â”œâ”€â”€ axios.ts  // Axios é…ç½®æ–‡ä»¶
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> Axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseURL <span class="token operator">=</span> <span class="token string">&quot;https://api.github.com&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> axios <span class="token operator">=</span> Axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token punctuation">,</span>
  timeout<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span> <span class="token comment">// è¯·æ±‚è¶…æ—¶ 20s</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å‰ç½®æ‹¦æˆªå™¨ï¼ˆå‘èµ·è¯·æ±‚ä¹‹å‰çš„æ‹¦æˆªï¼‰</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * æ ¹æ®ä½ çš„é¡¹ç›®å®é™…æƒ…å†µæ¥å¯¹ config åšå¤„ç†
     * è¿™é‡Œå¯¹ config ä¸åšä»»ä½•å¤„ç†ï¼Œç›´æ¥è¿”å›
     */</span>
    <span class="token keyword">return</span> response<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åç½®æ‹¦æˆªå™¨ï¼ˆè·å–åˆ°å“åº”æ—¶çš„æ‹¦æˆªï¼‰</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * æ ¹æ®ä½ çš„é¡¹ç›®å®é™…æƒ…å†µæ¥å¯¹ response å’Œ error åšå¤„ç†
     * è¿™é‡Œå¯¹ response å’Œ error ä¸åšä»»ä½•å¤„ç†ï¼Œç›´æ¥è¿”å›
     */</span>
    <span class="token keyword">return</span> response<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response <span class="token operator">&amp;&amp;</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> code <span class="token operator">=</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">;</span>
      <span class="token keyword">const</span> msg <span class="token operator">=</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
      ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Code: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, Message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[Axios Error]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> axios<span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div></li> <li><p>ä½¿ç”¨ Axios
åœ¨éœ€è¦ä½¿ç”¨ Axios æ–‡ä»¶é‡Œï¼Œå¼•å…¥ Axios é…ç½®æ–‡ä»¶ï¼Œå‚è€ƒå¦‚ä¸‹ï¼š</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;../utils/axios&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      axios
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/XPoet&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;res: &quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err: &quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ol> <h3 id="é›†æˆ-css-é¢„ç¼–è¯‘å™¨-stylus-sass-less"><a href="#é›†æˆ-css-é¢„ç¼–è¯‘å™¨-stylus-sass-less" class="header-anchor">#</a> é›†æˆ CSS é¢„ç¼–è¯‘å™¨ Stylus/Sass/Less</h3> <p>æœ¬é¡¹ç›®ä½¿ç”¨ CSS é¢„ç¼–è¯‘å™¨ Stylusï¼Œç›´æ¥å®‰è£…ä¸ºå¼€å‘ä¾èµ–å³å¯ã€‚Vite å†…éƒ¨å·²å¸®æˆ‘ä»¬é›†æˆäº†ç›¸å…³çš„ loaderï¼Œä¸éœ€è¦é¢å¤–é…ç½®ã€‚åŒç†ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Sass æˆ– Less ç­‰ã€‚</p> <ol><li><p>å®‰è£…</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i stylus -D
<span class="token comment"># or</span>
<span class="token function">npm</span> i sass -D
<span class="token function">npm</span> i <span class="token function">less</span> -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>ä½¿ç”¨</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  ...
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol> <p>è‡³æ­¤ï¼Œä¸€ä¸ªåŸºäº TypeScript + Vite + Vue3 + Vue Router + Vuex + Element Plus + Axios + Stylus/Sass/Less çš„å‰ç«¯é¡¹ç›®å¼€å‘ç¯å¢ƒæ­å»ºå®Œæ¯•ï¼Œé¡¹ç›® Demo æ‰˜ç®¡åœ¨ <a href="https://github.com/XPoet/vite-vue3-starter" target="_blank" rel="noopener noreferrer">GitHub ä»“åº“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œéœ€è¦çš„åŒå­¦å¯ä»¥å»ä¸‹è½½ä¸‹æ¥ï¼Œå‚è€ƒå­¦ä¹ ã€‚</p> <p>ä¸‹é¢æˆ‘ä»¬æ¥æ‰“ç£¨è¿™ä¸ªé¡¹ç›®ï¼Œå¢åŠ ä»£ç è§„èŒƒçº¦æŸã€æäº¤è§„èŒƒçº¦æŸã€å•å…ƒæµ‹è¯•ã€è‡ªåŠ¨éƒ¨ç½²ç­‰ï¼Œè®©å…¶æ›´å®Œå–„ã€æ›´å¥å£®ã€‚</p> <h2 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="header-anchor">#</a> ä»£ç è§„èŒƒ</h2> <p>éšç€å‰ç«¯åº”ç”¨é€æ¸å˜å¾—å¤§å‹åŒ–å’Œå¤æ‚åŒ–ï¼Œåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­æœ‰å¤šä¸ªäººå‘˜å‚ä¸æ—¶ï¼Œæ¯ä¸ªäººçš„å‰ç«¯èƒ½åŠ›ç¨‹åº¦ä¸ç­‰ï¼Œä»–ä»¬å¾€å¾€ä¼šç”¨ä¸åŒçš„ç¼–ç é£æ ¼å’Œä¹ æƒ¯åœ¨é¡¹ç›®ä¸­å†™ä»£ç ï¼Œé•¿æ­¤ä¸‹å»ï¼ŒåŠ¿å¿…ä¼šè®©é¡¹ç›®çš„å¥å£®æ€§è¶Šæ¥è¶Šå·®ã€‚è§£å†³è¿™äº›é—®é¢˜ï¼Œç†è®ºä¸Šè®²ï¼Œå£å¤´çº¦å®šå’Œä»£ç å®¡æŸ¥éƒ½å¯ä»¥ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æ— æ³•å®æ—¶åé¦ˆï¼Œè€Œä¸”æ²Ÿé€šæˆæœ¬è¿‡é«˜ï¼Œä¸å¤Ÿçµæ´»ï¼Œæ›´å…³é”®çš„æ˜¯æ— æ³•æŠŠæ§ã€‚ä¸ä»¥è§„çŸ©ï¼Œä¸èƒ½æˆæ–¹åœ†ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨é¡¹ç›®ä½¿ç”¨ä¸€äº›å·¥å…·æ¥çº¦æŸä»£ç è§„èŒƒã€‚</p> <p>æœ¬æ–‡è®²è§£å¦‚ä½•ä½¿ç”¨ <strong>EditorConfig + Prettier + ESLint</strong> ç»„åˆæ¥å®ç°ä»£ç è§„èŒƒåŒ–ã€‚</p> <p>è¿™æ ·åšå¸¦æ¥å¥½å¤„ï¼š</p> <ul><li>è§£å†³å›¢é˜Ÿä¹‹é—´ä»£ç ä¸è§„èŒƒå¯¼è‡´çš„å¯è¯»æ€§å·®å’Œå¯ç»´æŠ¤æ€§å·®çš„é—®é¢˜ã€‚</li> <li>è§£å†³å›¢é˜Ÿæˆå‘˜ä¸åŒç¼–è¾‘å™¨å¯¼è‡´çš„ç¼–ç è§„èŒƒä¸ç»Ÿä¸€é—®é¢˜ã€‚</li> <li>æå‰å‘ç°ä»£ç é£æ ¼é—®é¢˜ï¼Œç»™å‡ºå¯¹åº”è§„èŒƒæç¤ºï¼ŒåŠæ—¶ä¿®å¤ã€‚</li> <li>å‡å°‘ä»£ç å®¡æŸ¥è¿‡ç¨‹ä¸­ååå¤å¤çš„ä¿®æ”¹è¿‡ç¨‹ï¼ŒèŠ‚çº¦æ—¶é—´ã€‚</li> <li>è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œç»Ÿä¸€ç¼–ç é£æ ¼ï¼Œä»æ­¤å’Œè„ä¹±å·®çš„ä»£ç è¯´å†è§ã€‚</li></ul> <h3 id="é›†æˆ-editorconfig-é…ç½®"><a href="#é›†æˆ-editorconfig-é…ç½®" class="header-anchor">#</a> é›†æˆ EditorConfig é…ç½®</h3> <p>EditorConfig æœ‰åŠ©äºä¸ºä¸åŒ IDE ç¼–è¾‘å™¨ä¸Šå¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼ã€‚</p> <p>å®˜ç½‘ï¼š<a href="http://editorconfig.org/" target="_blank" rel="noopener noreferrer">editorconfig.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¢åŠ  <code>.editorconfig</code> æ–‡ä»¶ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Editor configuration, see http://editorconfig.org</span>

<span class="token comment"># è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶</span>
root <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token comment"># è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨</span>
charset <span class="token operator">=</span> utf-8 <span class="token comment"># è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8</span>
indent_style <span class="token operator">=</span> space <span class="token comment"># ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰</span>
indent_size <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment"># ç¼©è¿›å¤§å°</span>
end_of_line <span class="token operator">=</span> lf <span class="token comment"># æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)</span>
trim_trailing_whitespace <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment"># å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦</span>
insert_final_newline <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment"># å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ</span>

<span class="token punctuation">[</span>*.md<span class="token punctuation">]</span> <span class="token comment"># è¡¨ç¤ºä»… md æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™</span>
max_line_length <span class="token operator">=</span> off
trim_trailing_whitespace <span class="token operator">=</span> <span class="token boolean">false</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>æ³¨æ„ï¼š</p> <ul><li><p>VSCode ä½¿ç”¨ EditorConfig éœ€è¦å»æ’ä»¶å¸‚åœºä¸‹è½½æ’ä»¶ <strong>EditorConfig for VS Code</strong> ã€‚</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51ca554c3b01470397de87ef0a92481d~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p></li> <li><p>JetBrains ç³»åˆ—ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ï¼Œå¯ç›´æ¥ä½¿ç”¨ EditorConfig é…ç½®ã€‚</p></li></ul> <h3 id="é›†æˆ-prettier-é…ç½®"><a href="#é›†æˆ-prettier-é…ç½®" class="header-anchor">#</a> é›†æˆ Prettier é…ç½®</h3> <p>Prettier æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒ JavaScriptã€TypeScriptã€CSSã€SCSSã€Lessã€JSXã€Angularã€Vueã€GraphQLã€JSONã€Markdown ç­‰è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šå‰ç«¯èƒ½ç”¨åˆ°çš„æ–‡ä»¶æ ¼å¼å®ƒéƒ½å¯ä»¥æå®šï¼Œæ˜¯å½“ä¸‹æœ€æµè¡Œçš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚</p> <p>å®˜ç½‘ï¼š<a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">prettier.io/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li><p>å®‰è£… Prettier</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i prettier -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>åˆ›å»º Prettier é…ç½®æ–‡ä»¶</p> <p>Prettier æ”¯æŒå¤šç§æ ¼å¼çš„<a href="https://prettier.io/docs/en/configuration.html" target="_blank" rel="noopener noreferrer">é…ç½®æ–‡ä»¶<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œæ¯”å¦‚ <code>.json</code>ã€<code>.yml</code>ã€<code>.yaml</code>ã€<code>.js</code>ç­‰ã€‚</p> <p>åœ¨æœ¬é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.prettierrc</code> æ–‡ä»¶ã€‚</p></li> <li><p>é…ç½® <code>.prettierrc</code></p> <p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹ç®€å•é…ç½®ï¼Œå…³äºæ›´å¤šé…ç½®é¡¹ä¿¡æ¯ï¼Œè¯·å‰å¾€å®˜ç½‘æŸ¥çœ‹ <a href="https://prettier.io/docs/en/options.html" target="_blank" rel="noopener noreferrer">Prettier-Options<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ã€‚</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;useTabs&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tabWidth&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bracketSpacing&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>Prettier å®‰è£…ä¸”é…ç½®å¥½ä¹‹åï¼Œå°±èƒ½ä½¿ç”¨å‘½ä»¤æ¥æ ¼å¼åŒ–ä»£ç </p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶ï¼ˆ. è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼‰</span>
npx prettier --write <span class="token builtin class-name">.</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <p>æ³¨æ„ï¼š</p> <ul><li><p>VSCode ç¼–è¾‘å™¨ä½¿ç”¨ Prettier é…ç½®éœ€è¦ä¸‹è½½æ’ä»¶ <strong>Prettier - Code formatter</strong> ã€‚</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba1f48fbd3bf441b90d58012270c867b~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p></li> <li><p>JetBrains ç³»åˆ—ç¼–è¾‘å™¨ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ï¼Œå¯ç›´æ¥ä½¿ç”¨ Prettier é…ç½®ã€‚</p></li></ul> <p>Prettier é…ç½®å¥½ä»¥åï¼Œåœ¨ä½¿ç”¨ VSCode æˆ– WebStorm ç­‰ç¼–è¾‘å™¨çš„æ ¼å¼åŒ–åŠŸèƒ½æ—¶ï¼Œç¼–è¾‘å™¨å°±ä¼šæŒ‰ç…§ Prettier é…ç½®æ–‡ä»¶çš„è§„åˆ™æ¥è¿›è¡Œæ ¼å¼åŒ–ï¼Œé¿å…äº†å› ä¸ºå¤§å®¶ç¼–è¾‘å™¨é…ç½®ä¸ä¸€æ ·è€Œå¯¼è‡´æ ¼å¼åŒ–åçš„ä»£ç é£æ ¼ä¸ç»Ÿä¸€çš„é—®é¢˜ã€‚</p> <h3 id="é›†æˆ-eslint-é…ç½®"><a href="#é›†æˆ-eslint-é…ç½®" class="header-anchor">#</a> é›†æˆ ESLint é…ç½®</h3> <p><a href="https://github.com/eslint/eslint" target="_blank" rel="noopener noreferrer">ESLint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ˜¯ä¸€æ¬¾ç”¨äºæŸ¥æ‰¾å¹¶æŠ¥å‘Šä»£ç ä¸­é—®é¢˜çš„å·¥å…·ï¼Œå¹¶ä¸”æ”¯æŒéƒ¨åˆ†é—®é¢˜è‡ªåŠ¨ä¿®å¤ã€‚å…¶æ ¸å¿ƒæ˜¯é€šè¿‡å¯¹ä»£ç è§£æå¾—åˆ°çš„ ASTï¼ˆAbstract Syntax Tree æŠ½è±¡è¯­æ³•æ ‘ï¼‰è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œæ¥åˆ†æä»£ç è¾¾åˆ°æ£€æŸ¥ä»£ç è´¨é‡å’Œé£æ ¼é—®é¢˜çš„èƒ½åŠ›ã€‚</p> <p>æ­£å¦‚å‰é¢æˆ‘ä»¬æåˆ°çš„å› å›¢é˜Ÿæˆå‘˜ä¹‹é—´ç¼–ç¨‹èƒ½åŠ›å’Œç¼–ç ä¹ æƒ¯ä¸åŒæ‰€é€ æˆçš„ä»£ç è´¨é‡é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ ESLint æ¥è§£å†³ï¼Œä¸€è¾¹å†™ä»£ç ä¸€è¾¹æŸ¥æ‰¾é—®é¢˜ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œå°±ç»™å‡ºè§„åˆ™æç¤ºï¼Œå¹¶ä¸”è‡ªåŠ¨ä¿®å¤ï¼Œé•¿æœŸä¸‹å»ï¼Œå¯ä»¥ä¿ƒä½¿å›¢é˜Ÿæˆå‘˜å¾€åŒä¸€ç§ç¼–ç é£æ ¼é æ‹¢ã€‚</p> <ol><li><p>å®‰è£… ESLint</p> <p>å¯ä»¥å…¨å±€æˆ–è€…æœ¬åœ°å®‰è£…ï¼Œä½œè€…æ¨èæœ¬åœ°å®‰è£…ï¼ˆåªåœ¨å½“å‰é¡¹ç›®ä¸­å®‰è£…ï¼‰ã€‚</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>é…ç½® ESLint</p> <p>ESLint å®‰è£…æˆåŠŸåï¼Œæ‰§è¡Œ <code>npx eslint --init</code>ï¼Œç„¶åæŒ‰ç…§ç»ˆç«¯æ“ä½œæç¤ºå®Œæˆä¸€ç³»åˆ—è®¾ç½®æ¥åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚</p> <ul><li><p>How would you like to use ESLint? ï¼ˆä½ æƒ³å¦‚ä½•ä½¿ç”¨ ESLint?ï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c1424c45d06d4900807b3e0435911f4e~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>To check syntax, find problems, and enforce code styleï¼ˆæ£€æŸ¥è¯­æ³•ã€å‘ç°é—®é¢˜å¹¶å¼ºåˆ¶æ‰§è¡Œä»£ç é£æ ¼ï¼‰</strong></p></li> <li><p>What type of modules does your project use?ï¼ˆä½ çš„é¡¹ç›®ä½¿ç”¨å“ªç§ç±»å‹çš„æ¨¡å—?ï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/26e9ec1fd2934265847b0dabe908e6be~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>JavaScript modules (import/export)</strong></p></li> <li><p>Which framework does your project use? ï¼ˆä½ çš„é¡¹ç›®ä½¿ç”¨å“ªç§æ¡†æ¶?ï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/412df4bebb2c43b2858d5093652cc8ca~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>Vue.js</strong></p></li> <li><p>Does your project use TypeScript?ï¼ˆä½ çš„é¡¹ç›®æ˜¯å¦ä½¿ç”¨ TypeScriptï¼Ÿï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee8aa15a0de84f2d9f16402f6870b3cd~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>Yes</strong></p></li> <li><p>Where does your code run?ï¼ˆä½ çš„ä»£ç åœ¨å“ªé‡Œè¿è¡Œ?ï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c86eb167b09a414dabb7ec3edb70a377~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>Browser å’Œ Node</strong>ï¼ˆæŒ‰ç©ºæ ¼é”®è¿›è¡Œé€‰æ‹©ï¼Œé€‰å®ŒæŒ‰å›è½¦é”®ç¡®å®šï¼‰</p></li> <li><p>How would you like to define a style for your project?ï¼ˆä½ æƒ³æ€æ ·ä¸ºä½ çš„é¡¹ç›®å®šä¹‰é£æ ¼ï¼Ÿï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8beb21b44a14dbba7e0b9153d1f6a03~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>Use a popular style guideï¼ˆä½¿ç”¨ä¸€ç§æµè¡Œçš„é£æ ¼æŒ‡å—ï¼‰</strong></p></li> <li><p>Which style guide do you want to follow?ï¼ˆä½ æƒ³éµå¾ªå“ªä¸€ç§é£æ ¼æŒ‡å—?ï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/596c3755247a45a990d8c847d76fdad1~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>Airbnb: <a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener noreferrer">github.com/airbnb/javaâ€¦<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong></p> <p>ESLint ä¸ºæˆ‘ä»¬åˆ—å‡ºäº†ä¸‰ç§ç¤¾åŒºæµè¡Œçš„ JavaScript é£æ ¼æŒ‡å—ï¼Œåˆ†åˆ«æ˜¯ Airbnbã€Standardã€Googleã€‚</p> <p>è¿™ä¸‰ä»½é£æ ¼æŒ‡å—éƒ½æ˜¯ç”±ä¼—å¤šå¤§ä½¬æ ¹æ®å¤šå¹´å¼€å‘ç»éªŒç¼–å†™ï¼Œè¶³å¤Ÿä¼˜ç§€ï¼Œå…¨çƒå¾ˆå¤šå¤§å°å…¬å¸éƒ½åœ¨ä½¿ç”¨ã€‚æˆ‘ä»¬é€‰ç”¨ <strong>GitHub ä¸Š star æœ€å¤šçš„ Airbnb</strong>ï¼Œå…å»ç¹ççš„é…ç½® ESLint è§„åˆ™æ—¶é—´ï¼Œç„¶åè®©å›¢é˜Ÿæˆå‘˜å»å­¦ä¹  Airbnb JavaScript é£æ ¼æŒ‡å—å³å¯ã€‚</p> <p>æ­¤æ—¶ï¼Œæˆ‘ä»¬åœ¨ ESLint é…ç½®äº† Airbnb JavaScript è§„åˆ™ï¼Œåœ¨ç¼–ç æ—¶ï¼Œæ‰€æœ‰ä¸ç¬¦åˆ Airbnb é£æ ¼çš„ä»£ç ï¼Œç¼–è¾‘å™¨éƒ½ä¼šç»™å‡ºæç¤ºï¼Œå¹¶ä¸”å¯ä»¥è‡ªåŠ¨ä¿®å¤ã€‚</p> <p><strong>è¿™é‡Œä½œè€…ä¸å»ºè®®å¤§å®¶å»è‡ªç”±é…ç½® ESLint è§„åˆ™ï¼Œç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸‰ä»½ JavaScript ä»£ç é£æ ¼æŒ‡å—å€¼å¾—æˆ‘ä»¬åå¤å­¦ä¹ ï¼ŒæŒæ¡åï¼Œç¼–ç¨‹èƒ½åŠ›èƒ½ä¸Šä¸€å¤§å°é˜¶ã€‚</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b2e1d4a8c794d47866c6836d3a9e5fb~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <ul><li><p><a href="https://github.com/standard/standard" target="_blank" rel="noopener noreferrer">JavaScript Standard Style<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4faa4e26ff56491da56b240905f7ef16~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p></li> <li><p><a href="https://google.github.io/styleguide/jsguide.html" target="_blank" rel="noopener noreferrer">Google JavaScript Style Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></li> <li><p>What format do you want your config file to be in?ï¼ˆä½ å¸Œæœ›ä½ çš„é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ¼å¼?ï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6217a3458af34010bd8a3a55a0c03629~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>JavaScript</strong></p></li> <li><p>Would you like to install them now with npm?ï¼ˆä½ æƒ³ç°åœ¨å°±ç”¨ NPM å®‰è£…å®ƒä»¬å—?ï¼‰</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b1be913778348d1a59c2d7ea4c27a0c~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>æ ¹æ®ä¸Šé¢çš„é€‰æ‹©ï¼ŒESLint ä¼šè‡ªåŠ¨å»æŸ¥æ‰¾ç¼ºå¤±çš„ä¾èµ–ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹© <strong>Yes</strong>ï¼Œä½¿ç”¨ NPM ä¸‹è½½å®‰è£…è¿™äº›ä¾èµ–åŒ…ã€‚</p> <p>æ³¨æ„ï¼šå¦‚æœè‡ªåŠ¨å®‰è£…ä¾èµ–å¤±è´¥ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨å®‰è£…</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-airbnb-base eslint-plugin-import eslint-plugin-vue -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>ESLint é…ç½®æ–‡ä»¶ <code>.eslintrc.js</code></p> <p>åœ¨<strong>ä¸Šä¸€æ­¥</strong>æ“ä½œå®Œæˆåï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆ <code>.eslintrc.js</code> é…ç½®æ–‡ä»¶ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">es2021</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin:vue/essential&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;airbnb-base&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬æœ‰é¢å¤–çš„ ESLint è§„åˆ™ï¼Œä¹Ÿåœ¨æ­¤æ–‡ä»¶ä¸­è¿½åŠ ã€‚</p></li></ol> <p>æ³¨æ„ï¼š</p> <ul><li><p>VSCode ä½¿ç”¨ ESLint é…ç½®æ–‡ä»¶éœ€è¦å»æ’ä»¶å¸‚åœºä¸‹è½½æ’ä»¶ <strong>ESLint</strong> ã€‚</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/61a7c36554da4b8ab889f8bfde0538cc~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p></li> <li><p>JetBrains ç³»åˆ—ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ã€‚</p></li></ul> <p>é…ç½®å¥½ä»¥åï¼Œæˆ‘ä»¬åœ¨ VSCode æˆ– WebStorm ç­‰ç¼–è¾‘å™¨ä¸­å¼€å¯ ESLinï¼Œå†™ä»£ç æ—¶ï¼ŒESLint å°±ä¼šæŒ‰ç…§æˆ‘ä»¬é…ç½®çš„è§„åˆ™æ¥è¿›è¡Œå®æ—¶ä»£ç æ£€æŸ¥ï¼Œå‘ç°é—®é¢˜ä¼šç»™å‡ºå¯¹åº”é”™è¯¯æç¤ºå’Œä¿®å¤æ–¹æ¡ˆã€‚</p> <p>å¦‚å›¾ï¼š</p> <ul><li>VSCode <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a9b5cd64eed42a6ad60d1765809cac8~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li> <li>WebStorm <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e6b2c6dbd4a4020bc1abf418455178b~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li></ul> <p>è™½ç„¶ï¼Œç°åœ¨ç¼–è¾‘å™¨å·²ç»ç»™å‡ºé”™è¯¯æç¤ºå’Œä¿®å¤æ–¹æ¡ˆï¼Œä½†éœ€è¦æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªå»ç‚¹å‡»ä¿®å¤ï¼Œè¿˜æ˜¯æŒºéº»çƒ¦çš„ã€‚å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è®¾ç½®ç¼–è¾‘å™¨ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œ <code>eslint --fix</code> å‘½ä»¤è¿›è¡Œä»£ç é£æ ¼ä¿®å¤ã€‚</p> <ul><li><p>VSCode åœ¨ <code>settings.json</code> è®¾ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token string-property property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
 <span class="token punctuation">}</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>WebStorm æ‰“å¼€è®¾ç½®çª—å£ï¼ŒæŒ‰å¦‚ä¸‹æ“ä½œï¼Œæœ€åç‚¹å‡» <code>Apply</code> -&gt; <code>OK</code>ã€‚ <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70659584632d432aa8c8cb8f6268b237~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p></li></ul> <h3 id="è§£å†³-prettier-å’Œ-eslint-çš„å†²çª"><a href="#è§£å†³-prettier-å’Œ-eslint-çš„å†²çª" class="header-anchor">#</a> è§£å†³ Prettier å’Œ ESLint çš„å†²çª</h3> <p>é€šå¸¸å¤§å®¶ä¼šåœ¨é¡¹ç›®ä¸­æ ¹æ®å®é™…æƒ…å†µæ·»åŠ ä¸€äº›é¢å¤–çš„ ESLint å’Œ Prettier é…ç½®è§„åˆ™ï¼Œéš¾å…ä¼šå­˜åœ¨è§„åˆ™å†²çªæƒ…å†µã€‚</p> <p>æœ¬é¡¹ç›®ä¸­çš„ ESLint é…ç½®ä¸­ä½¿ç”¨äº† Airbnb JavaScript é£æ ¼æŒ‡å—æ ¡éªŒï¼Œå…¶è§„åˆ™ä¹‹ä¸€æ˜¯<em>ä»£ç ç»“æŸåé¢è¦åŠ åˆ†å·</em>ï¼Œè€Œæˆ‘ä»¬åœ¨ Prettier é…ç½®æ–‡ä»¶ä¸­åŠ äº†<em>ä»£ç ç»“æŸåé¢ä¸åŠ åˆ†å·</em>çš„é…ç½®é¡¹ï¼Œè¿™æ ·å°±æœ‰å†²çªäº†ï¼Œä¼šå‡ºç°ç”¨ Prettier æ ¼å¼åŒ–åçš„ä»£ç ï¼ŒESLint æ£€æµ‹åˆ°æ ¼å¼æœ‰é—®é¢˜çš„ï¼Œä»è€ŒæŠ›å‡ºé”™è¯¯æç¤ºã€‚</p> <p>è§£å†³ä¸¤è€…å†²çªé—®é¢˜ï¼Œéœ€è¦ç”¨åˆ° <strong>eslint-plugin-prettier</strong> å’Œ <strong>eslint-config-prettier</strong>ã€‚</p> <ul><li><code>eslint-plugin-prettier</code> å°† Prettier çš„è§„åˆ™è®¾ç½®åˆ° ESLint çš„è§„åˆ™ä¸­ã€‚</li> <li><code>eslint-config-prettier</code> å…³é—­ ESLint ä¸­ä¸ Prettier ä¸­ä¼šå‘ç”Ÿå†²çªçš„è§„åˆ™ã€‚</li></ul> <p>æœ€åå½¢æˆä¼˜å…ˆçº§ï¼š<code>Prettier é…ç½®è§„åˆ™</code> &gt; <code>ESLint é…ç½®è§„åˆ™</code>ã€‚</p> <ul><li><p>å®‰è£…æ’ä»¶</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint-plugin-prettier eslint-config-prettier -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>åœ¨ <code>.eslintrc.js</code> æ·»åŠ  prettier æ’ä»¶</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span>
    <span class="token string">'airbnb-base'</span><span class="token punctuation">,</span>
    <span class="token string">'plugin:prettier/recommended'</span> <span class="token comment">// æ·»åŠ  prettier æ’ä»¶</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul> <p>è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œ <code>eslint --fix</code> å‘½ä»¤æ—¶ï¼ŒESLint å°±ä¼šæŒ‰ç…§ Prettier çš„é…ç½®è§„åˆ™æ¥æ ¼å¼åŒ–ä»£ç ï¼Œè½»æ¾è§£å†³äºŒè€…å†²çªé—®é¢˜ã€‚</p> <h3 id="é›†æˆ-husky-å’Œ-lint-staged"><a href="#é›†æˆ-husky-å’Œ-lint-staged" class="header-anchor">#</a> é›†æˆ husky å’Œ lint-staged</h3> <p>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å·²é›†æˆ ESLint å’Œ Prettierï¼Œåœ¨ç¼–ç æ—¶ï¼Œè¿™äº›å·¥å…·å¯ä»¥å¯¹æˆ‘ä»¬å†™çš„ä»£ç è¿›è¡Œå®æ—¶æ ¡éªŒï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šèƒ½æœ‰æ•ˆè§„èŒƒæˆ‘ä»¬å†™çš„ä»£ç ï¼Œä½†å›¢é˜Ÿå¯èƒ½ä¼šæœ‰äº›äººè§‰å¾—è¿™äº›æ¡æ¡æ¡†æ¡†çš„é™åˆ¶å¾ˆéº»çƒ¦ï¼Œé€‰æ‹©è§†â€œæç¤ºâ€è€Œä¸è§ï¼Œä¾æ—§æŒ‰è‡ªå·±çš„ä¸€å¥—é£æ ¼æ¥å†™ä»£ç ï¼Œæˆ–è€…å¹²è„†ç¦ç”¨æ‰è¿™äº›å·¥å…·ï¼Œå¼€å‘å®Œæˆå°±ç›´æ¥æŠŠä»£ç æäº¤åˆ°äº†ä»“åº“ï¼Œæ—¥ç§¯æœˆç´¯ï¼ŒESLint ä¹Ÿå°±å½¢åŒè™šè®¾ã€‚</p> <p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšä¸€äº›é™åˆ¶ï¼Œè®©æ²¡é€šè¿‡ ESLint æ£€æµ‹å’Œä¿®å¤çš„ä»£ç ç¦æ­¢æäº¤ï¼Œä»è€Œä¿è¯ä»“åº“ä»£ç éƒ½æ˜¯ç¬¦åˆè§„èŒƒçš„ã€‚</p> <p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° Git Hookï¼Œåœ¨æœ¬åœ°æ‰§è¡Œ <code>git commit</code> çš„æ—¶å€™ï¼Œå°±å¯¹æ‰€æäº¤çš„ä»£ç è¿›è¡Œ ESLint æ£€æµ‹å’Œä¿®å¤ï¼ˆå³æ‰§è¡Œ <code>eslint --fix</code>ï¼‰ï¼Œå¦‚æœè¿™äº›ä»£ç æ²¡é€šè¿‡ ESLint è§„åˆ™æ ¡éªŒï¼Œåˆ™ç¦æ­¢æäº¤ã€‚</p> <p>å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œæˆ‘ä»¬å€ŸåŠ© <a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ã€‚</p> <blockquote><p><a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> â€”â€” Git Hook å·¥å…·ï¼Œå¯ä»¥è®¾ç½®åœ¨ git å„ä¸ªé˜¶æ®µï¼ˆ<code>pre-commit</code>ã€<code>commit-msg</code>ã€<code>pre-push</code> ç­‰ï¼‰è§¦å‘æˆ‘ä»¬çš„å‘½ä»¤ã€‚
<a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> â€”â€” åœ¨ git æš‚å­˜çš„æ–‡ä»¶ä¸Šè¿è¡Œ lintersã€‚</p></blockquote> <h4 id="é…ç½®-husky"><a href="#é…ç½®-husky" class="header-anchor">#</a> é…ç½® husky</h4> <ul><li><p>è‡ªåŠ¨é…ç½®ï¼ˆæ¨èï¼‰</p> <p>ä½¿ç”¨ <code>husky-init</code> å‘½ä»¤å¿«é€Ÿåœ¨é¡¹ç›®åˆå§‹åŒ–ä¸€ä¸ª husky é…ç½®ã€‚</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx husky-init <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> <span class="token function">install</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™è¡Œå‘½ä»¤åšäº†å››ä»¶äº‹ï¼š</p> <ol><li>å®‰è£… husky åˆ°å¼€å‘ä¾èµ– <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/53b54bb5faed46e8ab15bb87be709f03~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li> <li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.husky</code> ç›®å½• <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/79b7c15af1474e0780110eec19d61ef4~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li> <li>åœ¨ <code>.husky</code> ç›®å½•åˆ›å»º <code>pre-commit</code> hookï¼Œå¹¶åˆå§‹åŒ– <code>pre-commit</code> å‘½ä»¤ä¸º <code>npm test</code> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/41617237db044ffab673d030078fc9b8~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li> <li>ä¿®æ”¹ <code>package.json</code> çš„ <code>scripts</code>ï¼Œå¢åŠ  <code>&quot;prepare&quot;: &quot;husky install&quot;</code> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a8e3095a8b9471b8b6995055dd9ca2d~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li></ol></li> <li><p>æ‰‹åŠ¨é…ç½®ï¼ˆä¸æ¨èï¼Œæ‡’æ˜¯ç¨‹åºå‘˜ç¬¬ä¸€ç”Ÿäº§åŠ›ï¼‰</p> <ol><li><p>å®‰è£… husky</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i husky -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>åˆ›å»º Git hooks</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx husky <span class="token function">install</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¯¥å‘½ä»¤åšäº†ä¸¤ä»¶äº‹ï¼š</p> <ul><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.husky</code> ç›®å½• <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2ca444f89d984e66985fbc039599a218~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li> <li>åœ¨ <code>.husky</code> ç›®å½•åˆ›å»º <code>pre-commit</code> hookï¼Œå¹¶åˆå§‹åŒ– <code>pre-commit</code> å‘½ä»¤ä¸º <code>npm test</code> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d0e681125c94d1fac9016ccfae07146~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li></ul></li> <li><p>æ‰‹åŠ¨ä¿®æ”¹ <code>package.json</code> çš„ <code>scripts</code>ï¼Œå¢åŠ  <code>&quot;prepare&quot;: &quot;husky install&quot;</code> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/68a982b547d74fabaed923ab8dc9f585~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p></li></ol></li></ul> <blockquote><p><strong>ç‰¹åˆ«æ³¨æ„ï¼šæœ¬é¡¹ç›®ä½¿ç”¨ husky 6.x ç‰ˆæœ¬ï¼Œ6.x ç‰ˆæœ¬é…ç½®æ–¹å¼è·Ÿä¹‹å‰çš„ç‰ˆæœ¬æœ‰è¾ƒå¤§å·®å¼‚ã€‚ç›®å‰ç½‘ä¸Šå¤§éƒ¨åˆ†æœ‰å…³ husky çš„æ•™ç¨‹éƒ½æ˜¯ 6 ä»¥å‰çš„ç‰ˆæœ¬ ï¼Œè·Ÿæœ¬æ–‡æ•™ç¨‹ä¸å¤ªä¸€æ ·ï¼Œå½“å‘ç°é…ç½®æ–¹æ³•ä¸ä¸€è‡´æ—¶ï¼Œä¸€åˆ‡ä»¥ <a href="https://typicode.github.io/husky/#/?id=usage" target="_blank" rel="noopener noreferrer">husky å®˜ç½‘<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä¸ºå‡†ã€‚</strong></p></blockquote> <p>åˆ°è¿™é‡Œï¼Œhusky é…ç½®å®Œæ¯•ï¼Œç°åœ¨æˆ‘ä»¬æ¥ä½¿ç”¨å®ƒï¼š</p> <p>husky åŒ…å«å¾ˆå¤š <code>hook</code>ï¼ˆé’©å­ï¼‰ï¼Œå¸¸ç”¨æœ‰ï¼š<code>pre-commit</code>ã€<code>commit-msg</code>ã€<code>pre-push</code>ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>pre-commit</code> æ¥è§¦å‘ ESLint å‘½ä»¤ã€‚</p> <p>ä¿®æ”¹ <code>.husky/pre-commit</code> hook æ–‡ä»¶çš„è§¦å‘å‘½ä»¤ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>eslint --fix ./src --ext .vue,.js,.ts
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/62fab24907ed473894d4624047506386~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>ä¸Šé¢è¿™ä¸ª <code>pre-commit</code> hook æ–‡ä»¶çš„ä½œç”¨æ˜¯ï¼šå½“æˆ‘ä»¬æ‰§è¡Œ <code>git commit -m &quot;xxx&quot;</code> æ—¶ï¼Œä¼šå…ˆå¯¹ <code>src</code>ç›®å½•ä¸‹æ‰€æœ‰çš„ <code>.vue</code>ã€<code>.js</code>ã€<code>.ts</code>æ–‡ä»¶æ‰§è¡Œ <code>eslint --fix</code> å‘½ä»¤ï¼Œå¦‚æœ ESLint é€šè¿‡ï¼ŒæˆåŠŸ <code>commit</code>ï¼Œå¦åˆ™ç»ˆæ­¢ <code>commit</code>ã€‚</p> <p>ä½†æ˜¯åˆå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶å€™æˆ‘ä»¬æ˜æ˜åªæ”¹åŠ¨äº†ä¸€ä¸¤ä¸ªæ–‡ä»¶ï¼Œå´è¦å¯¹æ‰€æœ‰çš„æ–‡ä»¶æ‰§è¡Œ <code>eslint --fix</code>ã€‚å‡å¦‚è¿™æ˜¯ä¸€ä¸ªå†å²é¡¹ç›®ï¼Œæˆ‘ä»¬åœ¨ä¸­é€”é…ç½®äº† ESLint è§„åˆ™ï¼Œé‚£ä¹ˆåœ¨æäº¤ä»£ç æ—¶ï¼Œä¹Ÿä¼šå¯¹å…¶ä»–æœªä¿®æ”¹çš„â€œå†å²â€æ–‡ä»¶éƒ½è¿›è¡Œæ£€æŸ¥ï¼Œå¯èƒ½ä¼šé€ æˆå¤§é‡æ–‡ä»¶å‡ºç° ESLint é”™è¯¯ï¼Œæ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p> <p>æˆ‘ä»¬è¦åšåˆ°åªç”¨ ESLint ä¿®å¤è‡ªå·±æ­¤æ¬¡å†™çš„ä»£ç ï¼Œè€Œä¸å»å½±å“å…¶ä»–çš„ä»£ç ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€å€ŸåŠ©ä¸€ä¸ªç¥å¥‡çš„å·¥å…· <strong>lint-staged</strong> ã€‚</p> <h4 id="é…ç½®-lint-staged"><a href="#é…ç½®-lint-staged" class="header-anchor">#</a> é…ç½® lint-staged</h4> <p>lint-staged è¿™ä¸ªå·¥å…·ä¸€èˆ¬ç»“åˆ husky æ¥ä½¿ç”¨ï¼Œå®ƒå¯ä»¥è®© husky çš„ <code>hook</code> è§¦å‘çš„å‘½ä»¤åªä½œç”¨äº <code>git add</code>é‚£äº›æ–‡ä»¶ï¼ˆå³ git æš‚å­˜åŒºçš„æ–‡ä»¶ï¼‰ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–æ–‡ä»¶ã€‚</p> <p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ lint-staged ç»§ç»­ä¼˜åŒ–é¡¹ç›®ã€‚</p> <ol><li><p>å®‰è£… lint-staged</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i lint-staged -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>åœ¨ <code>package.json</code>é‡Œå¢åŠ  lint-staged é…ç½®é¡¹</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/34f5b846e6e7429aa111e173b12ef30e~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;*.{vue,js,ts}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --fix&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è¿™è¡Œå‘½ä»¤è¡¨ç¤ºï¼šåªå¯¹ git æš‚å­˜åŒºçš„ <code>.vue</code>ã€<code>.js</code>ã€<code>.ts</code> æ–‡ä»¶æ‰§è¡Œ <code>eslint --fix</code>ã€‚</p></li> <li><p>ä¿®æ”¹ <code>.husky/pre-commit</code> hook çš„è§¦å‘å‘½ä»¤ä¸ºï¼š<code>npx lint-staged</code></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f888eaf311614d0ba93bbe3744438b11~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p></li></ol> <p>è‡³æ­¤ï¼Œhusky å’Œ lint-staged ç»„åˆé…ç½®å®Œæˆã€‚</p> <p>ç°åœ¨æˆ‘ä»¬æäº¤ä»£ç æ—¶å°±ä¼šå˜æˆè¿™æ ·ï¼š</p> <p>å‡å¦‚æˆ‘ä»¬ä¿®æ”¹äº† <code>scr</code> ç›®å½•ä¸‹çš„ <code>test-1.js</code>ã€<code>test-2.ts</code> å’Œ <code>test-3.md</code> æ–‡ä»¶ï¼Œç„¶å <code>git add ./src/</code>ï¼Œæœ€å <code>git commit -m &quot;test...&quot;</code>ï¼Œè¿™æ—¶å€™å°±ä¼šåªå¯¹ <code>test-1.js</code>ã€<code>test-2.ts</code> è¿™ä¸¤ä¸ªæ–‡ä»¶æ‰§è¡Œ <code>eslint --fix</code>ã€‚å¦‚æœ ESLint é€šè¿‡ï¼ŒæˆåŠŸæäº¤ï¼Œå¦åˆ™ç»ˆæ­¢æäº¤ã€‚ä»è€Œä¿è¯äº†æˆ‘ä»¬æäº¤åˆ° Git ä»“åº“çš„ä»£ç éƒ½æ˜¯è§„èŒƒçš„ã€‚</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3713b6409e4843b09344e65db19ddef3~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <ul><li>æäº¤å‰ <code>test-1.js</code>ã€<code>test-2.ts</code> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8fae6d1caa6e44e1ad59af7b3af35705~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li> <li>æäº¤å <code>test-1.js</code>ã€<code>test-2.ts</code> è‡ªåŠ¨ä¿®å¤ä»£ç æ ¼å¼ <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c54b19879578467082ac3668964fa612~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></li></ul> <p>æ— è®ºå†™ä»£ç è¿˜æ˜¯åšå…¶ä»–äº‹æƒ…ï¼Œéƒ½åº”è¯¥ç”¨é•¿è¿œçš„çœ¼å…‰æ¥çœ‹ï¼Œåˆšå¼€å§‹ä½¿ç”¨ ESint çš„æ—¶å€™å¯èƒ½ä¼šæœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ”¹èµ·æ¥ä¹Ÿå¾ˆè´¹æ—¶è´¹åŠ›ï¼Œåªè¦åšæŒä¸‹å»ï¼Œä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡éƒ½ä¼šå¾—åˆ°æå‡ï¼Œå‰æœŸçš„ä»˜å‡ºéƒ½æ˜¯å€¼å¾—çš„ã€‚</p> <p>è¿™äº›å·¥å…·å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œæ²¡æœ‰å®ƒä»¬ä½ åŒæ ·å¯ä»¥å¯ä»¥å®ŒæˆåŠŸèƒ½å¼€å‘ï¼Œä½†æ˜¯åˆ©ç”¨å¥½è¿™äº›å·¥å…·ï¼Œä½ å¯ä»¥å†™å‡ºæ›´é«˜è´¨é‡çš„ä»£ç ã€‚ç‰¹åˆ«æ˜¯ä¸€äº›åˆšåˆšæ¥è§¦çš„äººï¼Œå¯èƒ½ä¼šè§‰å¾—éº»çƒ¦è€Œæ”¾å¼ƒä½¿ç”¨è¿™äº›å·¥å…·ï¼Œå¤±å»äº†ä¸€æ¬¡æå‡ç¼–ç¨‹èƒ½åŠ›çš„å¥½æœºä¼šã€‚</p> <blockquote><p>æœ¬é¡¹ç›®å®Œæ•´çš„ä»£ç æ‰˜ç®¡åœ¨ <a href="https://github.com/XPoet/vite-vue3-starter" target="_blank" rel="noopener noreferrer">GitHub ä»“åº“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œæœ‰éœ€è¦çš„åŒå­¦å¯ä»¥å»ä¸‹è½½ä¸‹æ¥ï¼Œå‚è€ƒå­¦ä¹ ã€‚
<a href="https://github.com/XPoet/vite-vue3-starter" target="_blank" rel="noopener noreferrer">ç‚¹äº®å°æ˜Ÿæ˜Ÿ ğŸŒŸ æ”¯æŒä½œè€…~<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="æäº¤è§„èŒƒ"><a href="#æäº¤è§„èŒƒ" class="header-anchor">#</a> æäº¤è§„èŒƒ</h2> <p>å‰é¢æˆ‘ä»¬å·²ç»ç»Ÿä¸€ä»£ç è§„èŒƒï¼Œå¹¶ä¸”åœ¨æäº¤ä»£ç æ—¶è¿›è¡Œå¼ºçº¦æŸæ¥ä¿è¯ä»“åº“ä»£ç è´¨é‡ã€‚å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œåœ¨æäº¤ä»£ç è¿™ä¸ªç¯èŠ‚ï¼Œä¹Ÿå­˜åœ¨ä¸€ç§æƒ…å†µï¼šä¸èƒ½ä¿è¯æ¯ä¸ªäººå¯¹æäº¤ä¿¡æ¯çš„å‡†ç¡®æè¿°ï¼Œå› æ­¤ä¼šå‡ºç°æäº¤ä¿¡æ¯ç´Šä¹±ã€é£æ ¼ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p> <p>å¦‚æœ <code>git commit</code> çš„æè¿°ä¿¡æ¯ç²¾å‡†ï¼Œåœ¨åæœŸç»´æŠ¤å’Œ Bug å¤„ç†æ—¶ä¼šå˜å¾—æœ‰æ®å¯æŸ¥ï¼Œé¡¹ç›®å¼€å‘å‘¨æœŸå†…è¿˜å¯ä»¥æ ¹æ®è§„èŒƒçš„æäº¤ä¿¡æ¯å¿«é€Ÿç”Ÿæˆå¼€å‘æ—¥å¿—ï¼Œä»è€Œæ–¹ä¾¿æˆ‘ä»¬è¿½è¸ªé¡¹ç›®å’ŒæŠŠæ§è¿›åº¦ã€‚</p> <p>è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ç¤¾åŒºæœ€æµè¡Œã€æœ€çŸ¥åã€æœ€å—è®¤å¯çš„ Angular å›¢é˜Ÿæäº¤è§„èŒƒã€‚</p> <p>å…ˆçœ‹çœ‹ <a href="https://github.com/angular/angular/commits/master" target="_blank" rel="noopener noreferrer">Angular é¡¹ç›®çš„æäº¤è®°å½•<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼š</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64b5886214db4faba7250ca3b4c86638~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>å¦‚ä¸Šå›¾ï¼Œå¯ä»¥çœ‹å‡ºè¿™äº›æäº¤ä¿¡æ¯éƒ½æ˜¯æœ‰å›ºå®šæ ¼å¼çš„ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å­¦ä¹  Angular è§„èŒƒçš„ commit message æ ¼å¼ã€‚</p> <h3 id="commit-message-æ ¼å¼è§„èŒƒ"><a href="#commit-message-æ ¼å¼è§„èŒƒ" class="header-anchor">#</a> commit message æ ¼å¼è§„èŒƒ</h3> <p>commit message ç”± Headerã€Bodyã€Footer ç»„æˆã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;Header&gt;

&lt;Body&gt;

&lt;Footer&gt;
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="header"><a href="#header" class="header-anchor">#</a> Header</h4> <p>Header éƒ¨åˆ†åŒ…æ‹¬ä¸‰ä¸ªå­—æ®µ typeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰å’Œ subjectï¼ˆå¿…éœ€ï¼‰ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="type"><a href="#type" class="header-anchor">#</a> type</h5> <p>type ç”¨äºè¯´æ˜ commit çš„æäº¤ç±»å‹ï¼ˆå¿…é¡»æ˜¯ä»¥ä¸‹å‡ ç§ä¹‹ä¸€ï¼‰ã€‚</p> <table><thead><tr><th>å€¼</th> <th>æè¿°</th></tr></thead> <tbody><tr><td>feat</td> <td>æ–°å¢ä¸€ä¸ªåŠŸèƒ½</td></tr> <tr><td>fix</td> <td>ä¿®å¤ä¸€ä¸ª Bug</td></tr> <tr><td>docs</td> <td>æ–‡æ¡£å˜æ›´</td></tr> <tr><td>style</td> <td>ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰</td></tr> <tr><td>refactor</td> <td>ä»£ç é‡æ„</td></tr> <tr><td>perf</td> <td>æ”¹å–„æ€§èƒ½</td></tr> <tr><td>test</td> <td>æµ‹è¯•</td></tr> <tr><td>build</td> <td>å˜æ›´é¡¹ç›®æ„å»ºæˆ–å¤–éƒ¨ä¾èµ–ï¼ˆä¾‹å¦‚ scopes: webpackã€gulpã€npm ç­‰ï¼‰</td></tr> <tr><td>ci</td> <td>æ›´æ”¹æŒç»­é›†æˆè½¯ä»¶çš„é…ç½®æ–‡ä»¶å’Œ package ä¸­çš„ scripts å‘½ä»¤ï¼Œä¾‹å¦‚ scopes: Travis, Circle ç­‰</td></tr> <tr><td>chore</td> <td>å˜æ›´æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·</td></tr> <tr><td>revert</td> <td>ä»£ç å›é€€</td></tr></tbody></table> <h5 id="scope"><a href="#scope" class="header-anchor">#</a> scope</h5> <p>scope ç”¨äºæŒ‡å®šæœ¬æ¬¡ commit å½±å“çš„èŒƒå›´ã€‚scope ä¾æ®é¡¹ç›®è€Œå®šï¼Œä¾‹å¦‚åœ¨ä¸šåŠ¡é¡¹ç›®ä¸­å¯ä»¥ä¾æ®èœå•æˆ–è€…åŠŸèƒ½æ¨¡å—åˆ’åˆ†ï¼Œå¦‚æœæ˜¯ç»„ä»¶åº“å¼€å‘ï¼Œåˆ™å¯ä»¥ä¾æ®ç»„ä»¶åˆ’åˆ†ã€‚ï¼ˆscope å¯çœç•¥ï¼‰</p> <h5 id="subject"><a href="#subject" class="header-anchor">#</a> subject</h5> <p>subject æ˜¯æœ¬æ¬¡ commit çš„ç®€æ´æè¿°ï¼Œé•¿åº¦çº¦å®šåœ¨ 50 ä¸ªå­—ç¬¦ä»¥å†…ï¼Œé€šå¸¸éµå¾ªä»¥ä¸‹å‡ ä¸ªè§„èŒƒï¼š</p> <ul><li>ç”¨åŠ¨è¯å¼€å¤´ï¼Œç¬¬ä¸€äººç§°ç°åœ¨æ—¶è¡¨è¿°ï¼Œä¾‹å¦‚ï¼šchange ä»£æ›¿ changed æˆ– changes</li> <li>ç¬¬ä¸€ä¸ªå­—æ¯å°å†™</li> <li>ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰</li></ul> <h4 id="body"><a href="#body" class="header-anchor">#</a> Body</h4> <p>body æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œã€‚ï¼ˆbody å¯çœç•¥ï¼‰</p> <p>è·Ÿ subject ç±»ä¼¼ï¼Œç”¨åŠ¨è¯å¼€å¤´ï¼Œbody åº”è¯¥è¯´æ˜ä¿®æ”¹çš„åŸå› å’Œæ›´æ”¹å‰åçš„è¡Œä¸ºå¯¹æ¯”ã€‚</p> <h4 id="footer"><a href="#footer" class="header-anchor">#</a> Footer</h4> <p>å¦‚æœæœ¬æ¬¡æäº¤çš„ä»£ç æ˜¯çªç ´æ€§çš„å˜æ›´æˆ–å…³é—­ç¼ºé™·ï¼Œåˆ™ Footer å¿…éœ€ï¼Œå¦åˆ™å¯ä»¥çœç•¥ã€‚</p> <ul><li><p>çªç ´æ€§çš„å˜æ›´</p> <p>å½“å‰ä»£ç ä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬æœ‰çªç ´æ€§æ”¹å˜ï¼Œåˆ™ Footer ä»¥ BREAKING CHANGE å¼€å¤´ï¼Œåé¢æ˜¯å¯¹å˜åŠ¨çš„æè¿°ã€ä»¥åŠå˜åŠ¨çš„ç†ç”±ã€‚</p></li> <li><p>å…³é—­ç¼ºé™·</p> <p>å¦‚æœå½“å‰æäº¤æ˜¯é’ˆå¯¹ç‰¹å®šçš„ issueï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ Footer éƒ¨åˆ†å¡«å†™éœ€è¦å…³é—­çš„å•ä¸ª issue æˆ–ä¸€ç³»åˆ— issuesã€‚</p></li></ul> <h4 id="å‚è€ƒä¾‹å­"><a href="#å‚è€ƒä¾‹å­" class="header-anchor">#</a> å‚è€ƒä¾‹å­</h4> <ul><li><p>feat</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>feat(browser): onUrlChange event (popstate/hashchange/polling)

Added new event to browser:
- forward popstate event if available
- forward hashchange event if popstate not available
- do polling when neither popstate nor hashchange available

Breaks $browser.onHashChange, which was removed (use onUrlChange instead)
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>fix</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>fix(compile): couple of unit tests for IE9

Older IEs serialize html uppercased, but IE9 does not...
Would be better to expect case insensitive, unfortunately jasmine does
not allow to user regexps for throw expectations.

Closes #392
Breaks foo.bar api, foo.baz should be used instead
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>style</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>style(location): add couple of missing semi colons
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>chore</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>chore(release): v3.4.2
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h4 id="è§„èŒƒ-commit-message-çš„å¥½å¤„"><a href="#è§„èŒƒ-commit-message-çš„å¥½å¤„" class="header-anchor">#</a> è§„èŒƒ commit message çš„å¥½å¤„</h4> <ul><li>é¦–è¡Œå°±æ˜¯ç®€æ´å®ç”¨çš„å…³é”®ä¿¡æ¯ï¼Œæ–¹ä¾¿åœ¨ git history ä¸­å¿«é€Ÿæµè§ˆã€‚</li> <li>å…·æœ‰æ›´åŠ è¯¦ç»†çš„ body å’Œ footerï¼Œå¯ä»¥æ¸…æ™°çš„çœ‹å‡ºæŸæ¬¡æäº¤çš„ç›®çš„å’Œå½±å“ã€‚</li> <li>å¯ä»¥é€šè¿‡ type è¿‡æ»¤å‡ºæƒ³è¦æŸ¥æ‰¾çš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…³é”®å­—å¿«é€ŸæŸ¥æ‰¾ç›¸å…³æäº¤ã€‚</li> <li>å¯ä»¥ç›´æ¥ä» commit ç”Ÿæˆ change logã€‚</li></ul> <h3 id="é›†æˆ-commitizen-å®ç°è§„èŒƒæäº¤"><a href="#é›†æˆ-commitizen-å®ç°è§„èŒƒæäº¤" class="header-anchor">#</a> é›†æˆ Commitizen å®ç°è§„èŒƒæäº¤</h3> <p>ä¸Šé¢ä»‹ç»äº† Angular è§„èŒƒæäº¤çš„æ ¼å¼ï¼Œåˆæ¬¡æ¥è§¦çš„åŒå­¦å’‹ä¸€çœ‹å¯èƒ½ä¼šè§‰å¾—å¤æ‚ï¼Œå…¶å®ä¸ç„¶ï¼Œå¦‚æœè®©å¤§å®¶åœ¨ <code>git commit</code> çš„æ—¶å€™ä¸¥æ ¼æŒ‰ç…§ä¸Šé¢çš„æ ¼å¼æ¥å†™ï¼Œè‚¯å®šæ˜¯æœ‰å‹åŠ›çš„ï¼Œé¦–å…ˆå¾—è®°ä½ä¸åŒçš„ç±»å‹åˆ°åº•æ˜¯ç”¨æ¥å®šä¹‰ä»€ä¹ˆï¼Œsubject æ€ä¹ˆå†™ï¼Œbody æ€ä¹ˆå†™ï¼Œfooter è¦ä¸è¦å†™ç­‰ç­‰é—®é¢˜ï¼Œæ‡’æ‰æ˜¯ç¨‹åºå‘˜ç¬¬ä¸€ç”Ÿäº§åŠ›ï¼Œä¸ºæ­¤æˆ‘ä»¬ä½¿ç”¨ Commitizen å·¥å…·æ¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆ commit message æ ¼å¼ï¼Œä»è€Œå®ç°è§„èŒƒæäº¤ã€‚</p> <blockquote><p>Commitizen æ˜¯ä¸€ä¸ªå¸®åŠ©æ’°å†™è§„èŒƒ commit message çš„å·¥å…·ã€‚å®ƒæœ‰ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…· cz-cliã€‚</p></blockquote> <h4 id="å®‰è£…-commitizen"><a href="#å®‰è£…-commitizen" class="header-anchor">#</a> å®‰è£… Commitizen</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install commitizen -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="header-anchor">#</a> åˆå§‹åŒ–é¡¹ç›®</h4> <p>æˆåŠŸå®‰è£… Commitizen åï¼Œæˆ‘ä»¬ç”¨ <strong>cz-conventional-changelog</strong> é€‚é…å™¨æ¥åˆå§‹åŒ–é¡¹ç›®ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npx commitizen init cz-conventional-changelog --save-dev --save-exact
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™è¡Œå‘½ä»¤åšäº†ä¸¤ä»¶äº‹ï¼š</p> <ul><li><p>å®‰è£… cz-conventional-changelog åˆ°å¼€å‘ä¾èµ–ï¼ˆdevDependenciesï¼‰</p></li> <li><p>åœ¨</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>package.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ä¸­å¢åŠ äº†</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>config.commitizen
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;config&quot;: {
  &quot;commitizen&quot;: {
    &quot;path&quot;: &quot;./node_modules/cz-conventional-changelog&quot;
  }
}
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h4 id="ä½¿ç”¨-commitizen"><a href="#ä½¿ç”¨-commitizen" class="header-anchor">#</a> ä½¿ç”¨ Commitizen</h4> <p>ä»¥å‰æˆ‘ä»¬æäº¤ä»£ç éƒ½æ˜¯ <code>git commit -m &quot;xxx&quot;</code>ï¼Œç°åœ¨æ”¹ä¸º <code>git cz</code>ï¼Œç„¶åæŒ‰ç…§ç»ˆç«¯æ“ä½œæç¤ºï¼Œé€æ­¥å¡«å…¥ä¿¡æ¯ï¼Œå°±èƒ½è‡ªåŠ¨ç”Ÿæˆè§„èŒƒçš„ commit messageã€‚</p> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <p>æœ€åï¼Œåœ¨ Git æäº¤å†å²ä¸­å°±èƒ½çœ‹åˆ°åˆšåˆšè§„èŒƒçš„æäº¤è®°å½•äº†ï¼š ![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <h4 id="è‡ªå®šä¹‰é…ç½®æäº¤è¯´æ˜"><a href="#è‡ªå®šä¹‰é…ç½®æäº¤è¯´æ˜" class="header-anchor">#</a> è‡ªå®šä¹‰é…ç½®æäº¤è¯´æ˜</h4> <p>ä»ä¸Šé¢çš„æˆªå›¾å¯ä»¥çœ‹åˆ°ï¼Œ<code>git cz</code> ç»ˆç«¯æ“ä½œæç¤ºéƒ½æ˜¯è‹±æ–‡çš„ï¼Œå¦‚æœæƒ³æ”¹æˆä¸­æ–‡çš„æˆ–è€…è‡ªå®šä¹‰è¿™äº›é…ç½®é€‰é¡¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong>cz-customizable</strong> é€‚é…å™¨ã€‚</p> <h5 id="cz-customizable-åˆå§‹åŒ–é¡¹ç›®"><a href="#cz-customizable-åˆå§‹åŒ–é¡¹ç›®" class="header-anchor">#</a> cz-customizable åˆå§‹åŒ–é¡¹ç›®</h5> <p>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ä½¿ç”¨ cz-customizable åˆå§‹åŒ–é¡¹ç›®ï¼Œæ³¨æ„ä¹‹å‰å·²ç»åˆå§‹åŒ–è¿‡ä¸€æ¬¡ï¼Œè¿™æ¬¡å†åˆå§‹åŒ–ï¼Œéœ€è¦åŠ  <code>--force</code> è¦†ç›–ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npx commitizen init cz-customizable --save-dev --save-exact --force
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™è¡Œå‘½ä»¤åšäº†ä¸¤ä»¶äº‹ï¼š</p> <ul><li><p>å®‰è£… cz-customizable åˆ°å¼€å‘ä¾èµ–ï¼ˆdevDependenciesï¼‰</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  ...
  <span class="token property">&quot;cz-customizable&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.3.0&quot;</span><span class="token punctuation">,</span>
  ...
<span class="token punctuation">}</span><span class="token punctuation">,</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>ä¿®æ”¹ <code>package.json</code> ä¸­çš„ <code>config.commitizen</code> å­—æ®µä¸ºï¼š</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;commitizen&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./node_modules/cz-customizable&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h5 id="ä½¿ç”¨-cz-customizable"><a href="#ä½¿ç”¨-cz-customizable" class="header-anchor">#</a> ä½¿ç”¨ cz-customizable</h5> <p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.cz-config.js</code> æ–‡ä»¶ï¼Œç„¶åæŒ‰ç…§å®˜æ–¹æä¾›çš„<a href="https://github.com/leoforfree/cz-customizable/blob/master/cz-config-EXAMPLE.js" target="_blank" rel="noopener noreferrer">ç¤ºä¾‹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>æ¥é…ç½®ã€‚</p> <p>åœ¨æœ¬é¡¹ç›®ä¸­æˆ‘ä»¬ä¿®æ”¹æˆä¸­æ–‡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// type ç±»å‹ï¼ˆå®šä¹‰ä¹‹åï¼Œå¯é€šè¿‡ä¸Šä¸‹é”®é€‰æ‹©ï¼‰</span>
  <span class="token literal-property property">types</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'feat'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'feat:     æ–°å¢åŠŸèƒ½'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'fix'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'fix:      ä¿®å¤ bug'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'docs'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'docs:     æ–‡æ¡£å˜æ›´'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'style:    ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'refactor'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'refactor: ä»£ç é‡æ„ï¼ˆä¸åŒ…æ‹¬ bug ä¿®å¤ã€åŠŸèƒ½æ–°å¢ï¼‰'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'perf'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'perf:     æ€§èƒ½ä¼˜åŒ–'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'test:     æ·»åŠ ã€ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'build'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'build:    æ„å»ºæµç¨‹ã€å¤–éƒ¨ä¾èµ–å˜æ›´ï¼ˆå¦‚å‡çº§ npm åŒ…ã€ä¿®æ”¹ webpack é…ç½®ç­‰ï¼‰'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'ci'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ci:       ä¿®æ”¹ CI é…ç½®ã€è„šæœ¬'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'chore'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'chore:    å¯¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œåº“çš„æ›´æ”¹ï¼ˆä¸å½±å“æºæ–‡ä»¶ã€æµ‹è¯•ç”¨ä¾‹ï¼‰'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'revert'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'revert:   å›æ»š commit'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token comment">// scope ç±»å‹ï¼ˆå®šä¹‰ä¹‹åï¼Œå¯é€šè¿‡ä¸Šä¸‹é”®é€‰æ‹©ï¼‰</span>
  <span class="token literal-property property">scopes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'components'</span><span class="token punctuation">,</span> <span class="token string">'ç»„ä»¶ç›¸å…³'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'hooks'</span><span class="token punctuation">,</span> <span class="token string">'hook ç›¸å…³'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'utils'</span><span class="token punctuation">,</span> <span class="token string">'utils ç›¸å…³'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'element-ui'</span><span class="token punctuation">,</span> <span class="token string">'å¯¹ element-ui çš„è°ƒæ•´'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'styles'</span><span class="token punctuation">,</span> <span class="token string">'æ ·å¼ç›¸å…³'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'deps'</span><span class="token punctuation">,</span> <span class="token string">'é¡¹ç›®ä¾èµ–'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'auth'</span><span class="token punctuation">,</span> <span class="token string">'å¯¹ auth ä¿®æ”¹'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'other'</span><span class="token punctuation">,</span> <span class="token string">'å…¶ä»–ä¿®æ”¹'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// å¦‚æœé€‰æ‹© customï¼Œåé¢ä¼šè®©ä½ å†è¾“å…¥ä¸€ä¸ªè‡ªå®šä¹‰çš„ scopeã€‚ä¹Ÿå¯ä»¥ä¸è®¾ç½®æ­¤é¡¹ï¼ŒæŠŠåé¢çš„ allowCustomScopes è®¾ç½®ä¸º true</span>
    <span class="token punctuation">[</span><span class="token string">'custom'</span><span class="token punctuation">,</span> <span class="token string">'ä»¥ä¸Šéƒ½ä¸æ˜¯ï¼Ÿæˆ‘è¦è‡ªå®šä¹‰'</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>value<span class="token punctuation">,</span> description<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      value<span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>description<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// æ˜¯å¦å…è®¸è‡ªå®šä¹‰å¡«å†™ scopeï¼Œåœ¨ scope é€‰æ‹©çš„æ—¶å€™ï¼Œä¼šæœ‰ empty å’Œ custom å¯ä»¥é€‰æ‹©ã€‚</span>
  <span class="token comment">// allowCustomScopes: true,</span>

  <span class="token comment">// allowTicketNumber: false,</span>
  <span class="token comment">// isTicketNumberRequired: false,</span>
  <span class="token comment">// ticketNumberPrefix: 'TICKET-',</span>
  <span class="token comment">// ticketNumberRegExp: '\\d{1,5}',</span>


  <span class="token comment">// é’ˆå¯¹æ¯ä¸€ä¸ª type å»å®šä¹‰å¯¹åº”çš„ scopesï¼Œä¾‹å¦‚ fix</span>
  <span class="token comment">/*
  scopeOverrides: {
    fix: [
      { name: 'merge' },
      { name: 'style' },
      { name: 'e2eTest' },
      { name: 'unitTest' }
    ]
  },
  */</span>

  <span class="token comment">// äº¤äº’æç¤ºä¿¡æ¯</span>
  <span class="token literal-property property">messages</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ç¡®ä¿æœ¬æ¬¡æäº¤éµå¾ª Angular è§„èŒƒï¼\né€‰æ‹©ä½ è¦æäº¤çš„ç±»å‹ï¼š'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">scope</span><span class="token operator">:</span> <span class="token string">'\né€‰æ‹©ä¸€ä¸ª scopeï¼ˆå¯é€‰ï¼‰ï¼š'</span><span class="token punctuation">,</span>
    <span class="token comment">// é€‰æ‹© scope: custom æ—¶ä¼šå‡ºä¸‹é¢çš„æç¤º</span>
    <span class="token literal-property property">customScope</span><span class="token operator">:</span> <span class="token string">'è¯·è¾“å…¥è‡ªå®šä¹‰çš„ scopeï¼š'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">subject</span><span class="token operator">:</span> <span class="token string">'å¡«å†™ç®€çŸ­ç²¾ç‚¼çš„å˜æ›´æè¿°ï¼š\n'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span>
      <span class="token string">'å¡«å†™æ›´åŠ è¯¦ç»†çš„å˜æ›´æè¿°ï¼ˆå¯é€‰ï¼‰ã€‚ä½¿ç”¨ &quot;|&quot; æ¢è¡Œï¼š\n'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">breaking</span><span class="token operator">:</span> <span class="token string">'åˆ—ä¸¾éå…¼å®¹æ€§é‡å¤§çš„å˜æ›´ï¼ˆå¯é€‰ï¼‰ï¼š\n'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">footer</span><span class="token operator">:</span> <span class="token string">'åˆ—ä¸¾å‡ºæ‰€æœ‰å˜æ›´çš„ ISSUES CLOSEDï¼ˆå¯é€‰ï¼‰ã€‚ ä¾‹å¦‚: #31, #34ï¼š\n'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">confirmCommit</span><span class="token operator">:</span> <span class="token string">'ç¡®è®¤æäº¤ï¼Ÿ'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// è®¾ç½®åªæœ‰ type é€‰æ‹©äº† feat æˆ– fixï¼Œæ‰è¯¢é—® breaking message</span>
  <span class="token literal-property property">allowBreakingChanges</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'feat'</span><span class="token punctuation">,</span> <span class="token string">'fix'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token comment">// è·³è¿‡è¦è¯¢é—®çš„æ­¥éª¤</span>
  <span class="token comment">// skipQuestions: ['body', 'footer'],</span>

  <span class="token comment">// subject é™åˆ¶é•¿åº¦</span>
  <span class="token literal-property property">subjectLimit</span><span class="token operator">:</span> <span class="token number">100</span>
  <span class="token literal-property property">breaklineChar</span><span class="token operator">:</span> <span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token comment">// æ”¯æŒ body å’Œ footer</span>
  <span class="token comment">// footerPrefix : 'ISSUES CLOSED:'</span>
  <span class="token comment">// askForBreakingChangeFirst : true,</span>
<span class="token punctuation">}</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><p>å»ºè®®å¤§å®¶ç»“åˆé¡¹ç›®å®é™…æƒ…å†µæ¥è‡ªå®šä¹‰é…ç½®æäº¤è§„åˆ™ï¼Œä¾‹å¦‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸éœ€è¦å†™é•¿æè¿°ï¼Œå…¬å¸å†…éƒ¨çš„ä»£ç ä»“åº“ä¹Ÿä¸éœ€è¦ç®¡ç† issueï¼Œé‚£ä¹ˆå¯ä»¥æŠŠè¯¢é—® body å’Œ footer çš„æ­¥éª¤è·³è¿‡ï¼ˆåœ¨ <code>.cz-config.js</code>ä¸­ä¿®æ”¹æˆ <code>skipQuestions: ['body', 'footer']</code>ï¼‰ã€‚</p> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <h3 id="é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ"><a href="#é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ" class="header-anchor">#</a> é›†æˆ commitlint éªŒè¯æäº¤è§„èŒƒ</h3> <p>åœ¨â€œä»£ç è§„èŒƒâ€ç« èŠ‚ï¼Œæˆ‘ä»¬å·²ç»è®²åˆ°è¿‡ï¼Œå°½ç®¡åˆ¶å®šäº†è§„èŒƒï¼Œä½†åœ¨å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œæ€»æœ‰äº›äººä¾æ—§æˆ‘è¡Œæˆ‘ç´ ï¼Œå› æ­¤æäº¤ä»£ç è¿™ä¸ªç¯èŠ‚ï¼Œæˆ‘ä»¬ä¹Ÿå¢åŠ ä¸€ä¸ªé™åˆ¶ï¼š<strong>åªè®©ç¬¦åˆ Angular è§„èŒƒçš„ commit message é€šè¿‡</strong>ï¼Œæˆ‘ä»¬å€ŸåŠ© @commitlint/config-conventional å’Œ @commitlint/cli æ¥å®ç°ã€‚</p> <h4 id="å®‰è£…-commitlint"><a href="#å®‰è£…-commitlint" class="header-anchor">#</a> å®‰è£… commitlint</h4> <p>å®‰è£… @commitlint/config-conventional å’Œ @commitlint/cli</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i @commitlint/config-conventional @commitlint/cli -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="é…ç½®-commitlint"><a href="#é…ç½®-commitlint" class="header-anchor">#</a> é…ç½® commitlint</h4> <ul><li><p>åˆ›å»º commitlint.config.js æ–‡ä»¶ åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>commitlint.config.js</code> æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@commitlint/config-conventional&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æˆ–ç›´æ¥ä½¿ç”¨å¿«æ·å‘½ä»¤ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;module.exports = {extends: ['@commitlint/config-conventional']}&quot;</span> <span class="token operator">&gt;</span> commitlint.config.js
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>ä½¿ç”¨ husky çš„ <code>commit-msg</code> hook è§¦å‘éªŒè¯æäº¤ä¿¡æ¯çš„å‘½ä»¤
æˆ‘ä»¬ä½¿ç”¨ husky å‘½ä»¤åœ¨ <code>.husky</code> ç›®å½•ä¸‹åˆ›å»º <code>commit-msg</code> æ–‡ä»¶ï¼Œå¹¶åœ¨æ­¤æ‰§è¡Œ commit message çš„éªŒè¯å‘½ä»¤ã€‚</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">&quot;npx --no-install commitlint --edit <span class="token variable">$1</span>&quot;</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p></li></ul> <h4 id="commitlint-éªŒè¯"><a href="#commitlint-éªŒè¯" class="header-anchor">#</a> commitlint éªŒè¯</h4> <ul><li>ä¸ç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯
å¦‚ä¸‹å›¾ï¼Œæäº¤ä¿¡æ¯ <code>test commitlint</code> ä¸ç¬¦åˆè§„èŒƒï¼Œæäº¤å¤±è´¥ã€‚ ![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</li> <li>ç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯
å¦‚ä¸‹å›¾ï¼Œæäº¤ä¿¡æ¯ <code>test: commitlint test</code> ç¬¦åˆè§„èŒƒï¼ŒæˆåŠŸæäº¤åˆ°ä»“åº“ã€‚ ![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</li></ul> <p>å› ä¸ºå·²åœ¨é¡¹ç›®ä¸­é›†æˆ commitizenï¼Œå»ºè®®å¤§å®¶ç”¨ <code>git cz</code> æ¥ä»£æ›¿ <code>git commit</code> æäº¤ä»£ç ï¼Œå¯ä»¥ä¿è¯æäº¤ä¿¡æ¯è§„èŒƒã€‚</p> <blockquote><p>æœ¬é¡¹ç›®å®Œæ•´çš„ä»£ç æ‰˜ç®¡åœ¨ <a href="https://github.com/XPoet/vite-vue3-starter" target="_blank" rel="noopener noreferrer">GitHub ä»“åº“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼ŒåŒå­¦å¯ä»¥å»ä¸‹è½½ä¸‹æ¥ï¼Œå‚è€ƒå­¦ä¹ ã€‚
<a href="https://github.com/XPoet/vite-vue3-starter" target="_blank" rel="noopener noreferrer">ç‚¹äº®å°æ˜Ÿæ˜Ÿ ğŸŒŸ æ”¯æŒä½œè€…~<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="header-anchor">#</a> å•å…ƒæµ‹è¯•</h2> <p>å•å…ƒæµ‹è¯•æ˜¯é¡¹ç›®å¼€å‘ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„ç¯èŠ‚ï¼Œå®Œæ•´çš„æµ‹è¯•èƒ½ä¸ºä»£ç å’Œä¸šåŠ¡æä¾›è´¨é‡ä¿è¯ï¼Œå‡å°‘ Bug çš„å‡ºç°ã€‚</p> <p>æœ¬ç« èŠ‚å°†å¸¦é¢†å¤§å®¶åœ¨ Vite + Vue3 + TypeScript çš„é¡¹ç›®ä¸­é›†æˆå•å…ƒæµ‹è¯•å·¥å…·ã€‚</p> <h3 id="å®‰è£…æ ¸å¿ƒä¾èµ–"><a href="#å®‰è£…æ ¸å¿ƒä¾èµ–" class="header-anchor">#</a> å®‰è£…æ ¸å¿ƒä¾èµ–</h3> <p>æˆ‘ä»¬ä½¿ç”¨ Vue å®˜æ–¹æä¾›çš„ <strong>vue-test-utils</strong> å’Œç¤¾åŒºæµè¡Œçš„æµ‹è¯•å·¥å…· <strong>jest</strong> æ¥è¿›è¡Œ Vue ç»„ä»¶çš„å•å…ƒæµ‹è¯•ã€‚</p> <ul><li><strong><a href="https://github.com/vuejs/vue-test-utils-next" target="_blank" rel="noopener noreferrer">vue-test-utils<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong> The next iteration of Vue Test Utils. It targets Vue 3.</li> <li><strong><a href="https://github.com/facebook/jest" target="_blank" rel="noopener noreferrer">jest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong> Delightful JavaScript Testing.</li> <li><strong><a href="https://github.com/vuejs/vue-jest" target="_blank" rel="noopener noreferrer">vue-jest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong> Jest Vue transformer</li> <li><strong><a href="https://github.com/kulshekhar/ts-jest" target="_blank" rel="noopener noreferrer">ts-jest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong> A Jest transformer with source map support that lets you use Jest to test projects written in TypeScript.</li></ul> <p>å®‰è£…è¿™äº›å·¥å…·ä¸ºå¼€å‘ä¾èµ–ï¼ˆdevDependenciesï¼‰ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i @vue/test-utils@next jest vue-jest@next ts-jest -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="åˆ›å»º-jest-é…ç½®æ–‡ä»¶"><a href="#åˆ›å»º-jest-é…ç½®æ–‡ä»¶" class="header-anchor">#</a> åˆ›å»º jest é…ç½®æ–‡ä»¶</h3> <p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º <code>jest.config.js</code> æ–‡ä»¶ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">moduleFileExtensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ts&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">preset</span><span class="token operator">:</span> <span class="token string">&quot;ts-jest&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">testEnvironment</span><span class="token operator">:</span> <span class="token string">&quot;jsdom&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;^.+\\.vue$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-jest&quot;</span><span class="token punctuation">,</span> <span class="token comment">// vue æ–‡ä»¶ç”¨ vue-jest è½¬æ¢</span>
    <span class="token string-property property">&quot;^.+\\.ts$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ts-jest&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ts æ–‡ä»¶ç”¨ ts-jest è½¬æ¢</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åŒ¹é… __tests__ ç›®å½•ä¸‹çš„ .js/.ts æ–‡ä»¶ æˆ–å…¶ä»–ç›®å½•ä¸‹çš„ xx.test.js/ts xx.spec.js/ts</span>
  <span class="token literal-property property">testRegex</span><span class="token operator">:</span> <span class="token string">&quot;(/__tests__/.*|(\\.|/)(test|spec))\\.(ts)$&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶"><a href="#åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶" class="header-anchor">#</a> åˆ›å»ºå•å…ƒæµ‹è¯•æ–‡ä»¶</h3> <p>åœ¨ä¸Šé¢çš„ <code>jest.config.js</code> æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬é…ç½®åªåŒ¹é… <code>__tests__</code> ç›®å½•ä¸‹çš„ä»»æ„ <code>.ts</code> æ–‡ä»¶æˆ–å…¶ä»–ç›®å½•ä¸‹çš„ <code>xx.test.ts</code>/<code>xx.spec.ts</code> æ–‡ä»¶è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p> <p>è¿™é‡Œï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>tests</code> ç›®å½•æ¥å­˜å‚¨å•å…ƒæµ‹è¯•æ–‡ä»¶</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>â”œâ”€â”€ src/
â””â”€â”€ tests/                           // å•å…ƒæµ‹è¯•ç›®å½•
    â”œâ”€â”€ Test.spec.ts                 // Test ç»„ä»¶æµ‹è¯•
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><code>Test.vue</code></li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test-container page-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Unit Test Page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>count is: {{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>increment<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Vuex&quot;</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> count <span class="token operator">=</span> ref<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        count<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ul><li><p><code>Test.spec.ts</code></p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@vue/test-utils&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Test <span class="token keyword">from</span> <span class="token string">&quot;../src/views/Test.vue&quot;</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;Test.vue&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>Test<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">&quot;Unit Test Page&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">&quot;count is: 0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> wrapper<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">&quot;count is: 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
å¤åˆ¶ä»£ç <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul> <h3 id="é›†æˆ-types-jest"><a href="#é›†æˆ-types-jest" class="header-anchor">#</a> é›†æˆ @types/jest</h3> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dee7edd88c1944e08950df2b20150df0~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p>å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬ä½¿ç”¨ VSCode / WebStrom / IDEA ç­‰ç¼–è¾‘å™¨æ—¶ï¼Œåœ¨å•å…ƒæµ‹è¯•æ–‡ä»¶ä¸­ï¼ŒIDE ä¼šæç¤ºæŸäº›æ–¹æ³•ä¸å­˜åœ¨ï¼ˆå¦‚ <code>test</code>ã€<code>describe</code>ã€<code>it</code>ã€<code>expect</code>ç­‰ï¼‰ï¼Œå®‰è£… @types/jest å³å¯è§£å†³ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm i @types/jest -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>TypeScript çš„ç¼–è¯‘å™¨ä¹Ÿä¼šæç¤º jest çš„æ–¹æ³•å’Œç±»å‹æ‰¾ä¸åˆ°ï¼Œæˆ‘ä»¬è¿˜éœ€æŠŠ @types/jest æ·»åŠ æ ¹ç›®å½•ä¸‹çš„ <code>ts.config.json</code>ï¼ˆTypeScript é…ç½®æ–‡ä»¶ï¼‰ä¸­ï¼š</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vite/client&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jest&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="æ·»åŠ -eslint-plugin-jest"><a href="#æ·»åŠ -eslint-plugin-jest" class="header-anchor">#</a> æ·»åŠ  eslint-plugin-jest</h3> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <p>å› ä¸ºæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­é›†æˆäº† ESLintï¼Œå¦‚ä¸Šå›¾å¾ˆæ˜æ˜¾æ˜¯æ²¡é€šè¿‡ ESLint è§„åˆ™æ£€éªŒã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ ESLint ä¸­å¢åŠ  <strong>eslint-plugin-jest</strong> æ’ä»¶æ¥è§£é™¤å¯¹ jest çš„æ ¡éªŒã€‚</p> <ul><li><p>å®‰è£… eslint-plugin-jest</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint-plugin-jest -D
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>æ·»åŠ  eslint-plugin-jest åˆ° ESLint é…ç½®æ–‡ä»¶ <code>.eslintrc.js</code> ä¸­</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span>
    <span class="token string">'plugin:jest/recommended'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul> <p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„å•å…ƒæµ‹è¯•ä»£ç å°±ä¸ä¼šæœ‰é”™è¯¯æç¤ºä¿¡æ¯äº† ØØâ˜á–— ä¹› â—¡ ä¹› á–˜â˜ØØ</p> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <h3 id="æ‰§è¡Œå•å…ƒæµ‹è¯•"><a href="#æ‰§è¡Œå•å…ƒæµ‹è¯•" class="header-anchor">#</a> æ‰§è¡Œå•å…ƒæµ‹è¯•</h3> <p>åœ¨æ ¹ç›®å½•ä¸‹ <code>package.json</code> æ–‡ä»¶çš„ <code>scripts</code> ä¸­ï¼Œæ·»åŠ ä¸€æ¡å•å…ƒæµ‹è¯•å‘½ä»¤ï¼š <code>&quot;test&quot;: &quot;jest&quot;</code>ã€‚</p> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <p>æ‰§è¡Œå‘½ä»¤ <code>npm run test</code> å³å¯è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œjest ä¼šæ ¹æ® <code>jest.config.js</code> é…ç½®æ–‡ä»¶å»æŸ¥æ‰¾ <code>__tests__</code> ç›®å½•ä¸‹çš„ <code>.ts</code> æ–‡ä»¶æˆ–å…¶ä»–ä»»æ„ç›®å½•ä¸‹çš„ <code>.spec.ts</code> å’Œ <code>.test.ts</code> æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œå•å…ƒæµ‹è¯•æ–¹æ³•ã€‚</p> <blockquote><p>ä½ å¯ä»¥åœ¨ <code>jest.config.js</code> é…ç½®æ–‡ä»¶ä¸­ï¼Œè‡ªç”±é…ç½®å•å…ƒæµ‹è¯•æ–‡ä»¶çš„ç›®å½•ã€‚</p></blockquote> <ul><li>å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡æ—¶çš„ç»ˆç«¯æ˜¾ç¤ºä¿¡æ¯ ![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</li> <li>å•å…ƒæµ‹è¯•æœªå…¨éƒ¨é€šè¿‡æ—¶çš„ç»ˆç«¯æ˜¾ç¤ºä¿¡æ¯ ![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</li></ul> <p>å½“å•å…ƒæµ‹è¯•æ²¡æœ‰å…¨éƒ¨é€šè¿‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®æŠ¥é”™ä¿¡æ¯å»ä¼˜åŒ–å¯¹åº”ç»„ä»¶çš„ä»£ç ï¼Œè¿›ä¸€æ­¥æé«˜é¡¹ç›®å¥å£®æ€§ã€‚ä½†æ˜¯å†™å•å…ƒæµ‹è¯•æ˜¯ä»¶æ¯”è¾ƒç—›è‹¦çš„äº‹ï¼Œæˆ‘ä¸ªäººè§‰å¾—ä¹Ÿæ²¡å¿…è¦å…¨éƒ¨ç»„ä»¶éƒ½å†™å•å…ƒæµ‹è¯•ï¼Œæ ¹æ®é¡¹ç›®å®é™…æƒ…å†µæœ‰é’ˆå¯¹æ€§å»å†™å°±è¡Œäº†ã€‚</p> <h3 id="å•å…ƒæµ‹è¯•çº¦æŸ"><a href="#å•å…ƒæµ‹è¯•çº¦æŸ" class="header-anchor">#</a> å•å…ƒæµ‹è¯•çº¦æŸ</h3> <p>å‰é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨ husky åœ¨ Git çš„ <code>pre-commit</code> å’Œ <code>commit-msg</code> é˜¶æ®µåˆ†åˆ«çº¦æŸä»£ç é£æ ¼è§„èŒƒå’Œæäº¤ä¿¡æ¯è§„èŒƒã€‚è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬åœ¨ <code>pre-push</code> é˜¶æ®µè¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œåªæœ‰å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡æ‰è®©ä»£ç  <code>push</code>åˆ°è¿œç«¯ä»“åº“ï¼Œå¦åˆ™ç»ˆæ­¢ <code>push</code>ã€‚</p> <p>ä½¿ç”¨ husky å‘½ä»¤åœ¨ <code>.husky</code> ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»º <code>pre-push</code> hook æ–‡ä»¶ï¼Œå¹¶åœ¨æ­¤æ‰§è¡Œå•å…ƒæµ‹è¯•å‘½ä»¤ <code>npm run test</code>ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npx husky add .husky/pre-push &quot;npm run test $1&quot;
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <p>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ <code>git push</code> æ—¶å°±èƒ½å…ˆè¿›è¡Œå•å…ƒæµ‹è¯•äº†ï¼Œåªæœ‰å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼Œæ‰èƒ½æˆåŠŸ <code>push</code>ã€‚</p> <blockquote><p>æœ¬é¡¹ç›®å®Œæ•´çš„ä»£ç æ‰˜ç®¡åœ¨ <a href="https://github.com/XPoet/vite-vue3-starter" target="_blank" rel="noopener noreferrer">GitHub ä»“åº“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼ŒåŒå­¦å¯ä»¥å»ä¸‹è½½ä¸‹æ¥ï¼Œå‚è€ƒå­¦ä¹ ã€‚
<a href="https://github.com/XPoet/vite-vue3-starter" target="_blank" rel="noopener noreferrer">ç‚¹äº®å°æ˜Ÿæ˜Ÿ ğŸŒŸ æ”¯æŒä½œè€…~<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="è‡ªåŠ¨éƒ¨ç½²"><a href="#è‡ªåŠ¨éƒ¨ç½²" class="header-anchor">#</a> è‡ªåŠ¨éƒ¨ç½²</h2> <p>åˆ°äº†è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»åœ¨é¡¹ç›®ä¸­é›†æˆ<strong>ä»£ç è§„èŒƒçº¦æŸ</strong>ã€<strong>æäº¤ä¿¡æ¯è§„èŒƒçº¦æŸ</strong>ï¼Œ<strong>å•å…ƒæµ‹è¯•çº¦æŸ</strong>ï¼Œä»è€Œä¿è¯æˆ‘ä»¬è¿œç«¯ä»“åº“ï¼ˆå¦‚ GitHubã€GitLabã€Gitee ä»“åº“ç­‰ï¼‰çš„ä»£ç éƒ½æ˜¯é«˜è´¨é‡çš„ã€‚</p> <p>æœ¬é¡¹ç›®æ˜¯è¦æ­å»ºä¸€å¥—è§„èŒƒçš„å‰ç«¯å·¥ç¨‹åŒ–ç¯å¢ƒï¼Œä¸ºæ­¤æˆ‘ä»¬ä½¿ç”¨ CIï¼ˆContinuous Integration æŒç»­é›†æˆï¼‰æ¥å®Œæˆé¡¹ç›®æœ€åçš„éƒ¨ç½²å·¥ä½œã€‚</p> <p>å¸¸è§çš„ CI å·¥å…·æœ‰ GitHub Actionsã€GitLab CIã€Travis CIã€Circle CI ç­‰ã€‚</p> <p>è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ GitHub Actionsã€‚</p> <h3 id="ä»€ä¹ˆæ˜¯-github-actions"><a href="#ä»€ä¹ˆæ˜¯-github-actions" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯ GitHub Actions</h3> <p>GitHub Actions æ˜¯ GitHub çš„æŒç»­é›†æˆæœåŠ¡ï¼ŒæŒç»­é›†æˆç”±å¾ˆå¤šæ“ä½œç»„æˆï¼Œæ¯”å¦‚æŠ“å–ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•è¿œç¨‹æœåŠ¡å™¨ã€å‘å¸ƒåˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ç­‰ç­‰ï¼ŒGitHub æŠŠè¿™äº›æ“ä½œç§°ä¸º actionsã€‚</p> <h3 id="é…ç½®-github-actions"><a href="#é…ç½®-github-actions" class="header-anchor">#</a> é…ç½® GitHub Actions</h3> <h4 id="åˆ›å»º-github-ä»“åº“"><a href="#åˆ›å»º-github-ä»“åº“" class="header-anchor">#</a> åˆ›å»º GitHub ä»“åº“</h4> <p>å› ä¸º GitHub Actions åªå¯¹ GitHub ä»“åº“æœ‰æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬<a href="https://github.com/new" target="_blank" rel="noopener noreferrer">åˆ›å»º GitHub ä»“åº“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>æ¥æ‰˜ç®¡é¡¹ç›®ä»£ç ã€‚</p> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <p>å…¶ä¸­ï¼Œæˆ‘ä»¬ç”¨ï¼š</p> <ul><li><code>master</code> åˆ†æ”¯å­˜å‚¨é¡¹ç›®æºä»£ç </li> <li><code>gh-pages</code> åˆ†æ”¯å­˜å‚¨æ‰“åŒ…åçš„é™æ€æ–‡ä»¶</li></ul> <blockquote><p><code>gh-pages</code> åˆ†æ”¯ï¼Œæ˜¯ GitHub Pages æœåŠ¡çš„å›ºå®šåˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡ HTTP çš„æ–¹å¼è®¿é—®åˆ°è¿™ä¸ªåˆ†æ”¯çš„é™æ€æ–‡ä»¶èµ„æºã€‚</p></blockquote> <h4 id="åˆ›å»º-github-token"><a href="#åˆ›å»º-github-token" class="header-anchor">#</a> åˆ›å»º GitHub Token</h4> <p>åˆ›å»ºä¸€ä¸ªæœ‰ <strong>repo</strong> å’Œ <strong>workflow</strong> æƒé™çš„ <a href="https://github.com/settings/tokens/new" target="_blank" rel="noopener noreferrer">GitHub Token<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <p>æ³¨æ„ï¼šæ–°ç”Ÿæˆçš„ Token åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œä¿å­˜èµ·æ¥ï¼Œåé¢è¦ç”¨åˆ°ã€‚å¦‚æœ‰é—å¤±ï¼Œé‡æ–°ç”Ÿæˆå³å¯ã€‚</p> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <h4 id="åœ¨ä»“åº“ä¸­æ·»åŠ -secret"><a href="#åœ¨ä»“åº“ä¸­æ·»åŠ -secret" class="header-anchor">#</a> åœ¨ä»“åº“ä¸­æ·»åŠ  secret</h4> <p>å°†ä¸Šé¢æ–°åˆ›å»ºçš„ Token æ·»åŠ åˆ° GitHub ä»“åº“çš„ <code>Secrets</code> é‡Œï¼Œå¹¶å°†è¿™ä¸ªæ–°å¢çš„ <code>secret</code> å‘½åä¸º <code>VUE3_DEPLOY</code> ï¼ˆåå­—æ— æ‰€è°“ï¼Œçœ‹ä½ å–œæ¬¢ï¼‰ã€‚</p> <p>æ­¥éª¤ï¼šä»“åº“ -&gt; <code>settings</code> -&gt; <code>Secrets</code> -&gt; <code>New repository secret</code>ã€‚</p> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <blockquote><p>æ–°åˆ›å»ºçš„ secret <code>VUE3_DEPLOY</code> åœ¨ Actions é…ç½®æ–‡ä»¶ä¸­è¦ç”¨åˆ°ï¼Œä¸¤ä¸ªåœ°æ–¹éœ€ä¿æŒä¸€è‡´ï¼</p></blockquote> <h4 id="åˆ›å»º-actions-é…ç½®æ–‡ä»¶"><a href="#åˆ›å»º-actions-é…ç½®æ–‡ä»¶" class="header-anchor">#</a> åˆ›å»º Actions é…ç½®æ–‡ä»¶</h4> <ol><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.github</code> ç›®å½•ã€‚</li> <li>åœ¨ <code>.github</code> ç›®å½•ä¸‹åˆ›å»º <code>workflows</code> ç›®å½•ã€‚</li> <li>åœ¨ <code>workflows</code> ç›®å½•ä¸‹åˆ›å»º <code>deploy.yml</code> æ–‡ä»¶ã€‚</li></ol> <p>![image](data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="600"></svg>)</p> <p><code>deploy.yml</code> æ–‡ä»¶çš„å†…å®¹ï¼š</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> deploy

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>master<span class="token punctuation">]</span> <span class="token comment"># master åˆ†æ”¯æœ‰ push æ—¶è§¦å‘</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js v14.x
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'14.x'</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install <span class="token comment"># å®‰è£…ä¾èµ–</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build <span class="token comment"># æ‰“åŒ…</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3 <span class="token comment"># ä½¿ç”¨éƒ¨ç½²åˆ° GitHub pages çš„ action</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">publish_dir</span><span class="token punctuation">:</span> ./dist <span class="token comment"># éƒ¨ç½²æ‰“åŒ…åçš„ dist ç›®å½•</span>
          <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.VUE3_DEPLOY <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># secret å</span>
          <span class="token key atrule">user_name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.MY_USER_NAME <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">user_email</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.MY_USER_EMAIL <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">commit_message</span><span class="token punctuation">:</span> Update Vite2.x + Vue3.x + TypeScript Starter <span class="token comment"># éƒ¨ç½²æ—¶çš„ git æäº¤ä¿¡æ¯ï¼Œè‡ªç”±å¡«å†™</span>
å¤åˆ¶ä»£ç 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†"><a href="#è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†" class="header-anchor">#</a> è‡ªåŠ¨éƒ¨ç½²è§¦å‘åŸç†</h3> <p>å½“æœ‰æ–°æäº¤çš„ä»£ç  <code>push</code> åˆ° GitHub ä»“åº“æ—¶ï¼Œå°±ä¼šè§¦å‘ GitHub Actionsï¼Œåœ¨ GitHub æœåŠ¡å™¨ä¸Šæ‰§è¡Œ Action é…ç½®æ–‡ä»¶é‡Œé¢çš„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š<strong>å®‰è£…ä¾èµ–</strong>ã€<strong>é¡¹ç›®æ‰“åŒ…</strong>ç­‰ï¼Œç„¶åå°†æ‰“åŒ…å¥½çš„é™æ€æ–‡ä»¶éƒ¨ç½²åˆ° GitHub Pages ä¸Šï¼Œæœ€åï¼Œæˆ‘ä»¬å°±èƒ½é€šè¿‡åŸŸåè®¿é—®äº†ã€‚</p> <blockquote><p>ğŸŒ é€šè¿‡åŸŸå <a href="https://vite-vue3-starter.xpoet.cn/" target="_blank" rel="noopener noreferrer">vite-vue3-starter.xpoet.cn/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> è®¿é—®æœ¬é¡¹ç›®</p></blockquote> <p>ä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²ï¼Œæˆ‘ä»¬åªéœ€ä¸“æ³¨äºé¡¹ç›®å¼€å‘é˜¶æ®µï¼Œä»»ä½•é‡å¤ä¸”æ¯ç‡¥çš„è¡Œä¸ºéƒ½äº¤ç”±ç¨‹åºå»å®Œæˆï¼Œæ‡’æ‰æ˜¯ç¨‹åºå‘˜ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚</p> <p>äº‹å®ä¸Šï¼Œè‡ªåŠ¨éƒ¨ç½²åªæ˜¯ GitHub Actions åŠŸèƒ½çš„å†°å±±ä¸€è§’ï¼ŒGitHub Actions èƒ½åšçš„äº‹è¿˜å¾ˆå¤šå¾ˆå¤šï¼Œå¤§å®¶æ„Ÿå…´è¶£çš„è¯è‡ªè¡ŒæŸ¥é˜…ã€‚</p> <h2 id="æœ€å"><a href="#æœ€å" class="header-anchor">#</a> æœ€å</h2> <p>æœ¬æ–‡ä»æŠ€æœ¯é€‰é¡¹åˆ°æ¶æ„æ­å»ºã€ä»ä»£ç è§„èŒƒçº¦æŸåˆ°æäº¤ä¿¡æ¯è§„èŒƒçº¦æŸï¼Œä»å•å…ƒæµ‹è¯•åˆ°åˆ°è‡ªåŠ¨éƒ¨ç½²ï¼Œä¸€æ­¥ä¸€æ­¥å¸¦é¢†å¤§å®¶å¦‚ä½•ä»ä¸€ä¸ªæœ€ç®€å•çš„å‰ç«¯é¡¹ç›®éª¨æ¶åˆ°è§„èŒƒçš„å‰ç«¯å·¥ç¨‹åŒ–ç¯å¢ƒï¼ŒåŸºæœ¬æ¶µç›–å‰ç«¯é¡¹ç›®å¼€å‘çš„æ•´ä¸ªæµç¨‹ï¼Œç‰¹åˆ«é€‚åˆåˆšæ¥è§¦å‰ç«¯å·¥ç¨‹åŒ–çš„åŒå­¦å­¦ä¹ ã€‚</p> <p>å› ç¯‡å¹…è¾ƒé•¿ï¼Œæ‰€æ¶‰åŠæŠ€æœ¯ç‚¹è¾ƒå¤šï¼Œéš¾å…ä¼šå‡ºç°é”™è¯¯ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šæŒ‡æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼</p></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-a008c6ba data-v-a008c6ba><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-a008c6ba><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-a008c6ba></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-a008c6ba></path></svg></div></div></div>
    <script src="/my-blog/assets/js/app.835ec0b2.js" defer></script><script src="/my-blog/assets/js/3.a3dfb6d1.js" defer></script><script src="/my-blog/assets/js/1.bd88c7fd.js" defer></script><script src="/my-blog/assets/js/35.c0ff8c00.js" defer></script>
  </body>
</html>
